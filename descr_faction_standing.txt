; FACTION STANDING PARAMETERS V. 08-16-2022
; SSHIP v1.0.0. - modified by Lifthrasir April 2019
; ===========================
; Lusted Base File edited by Quark
; Quark File edited by Gracul
; Conditional Faction Relations Triggers Adapted from Turbo
; Current Version by TheSavage for SavageA
; Made compatible with 6.3 by gracul
; Updates for SSHIP by MWY 28.02.2014
; initialisation parameters
; SSHIP v0.9.6 edited by VineFynn July 2019
; SSHIP v0.9.8 edited by Macaras

;net result on Orthodox vs Islamic destroying cathedral and rebuilding such is -0.006
;have to make sure that transgressions balance out new bonuses
;LE camapign will have less building of churches, more destruction on average
;orthodox and pagans do not get crusades and church missions - balance required
; FactionStanding religion catholic is not working, other religions neither

; Contents:
;##########         DIFFICULTY LEVELS
;##########         FACTION RELATIONS
;##########         TRANSGRESSIONS
;##########         AI RELATIONSHIPS
;##########         MISSIONS
;##########         DIPLOMACY
;##########         CARDINALS AND ELECTIONS
;##########         MISCELLANEOUS
;##########         FOREGIVENESS
; ....
;##########         HOTSPOTS of CONFLICTS
;##########         SPHERES OF INFLUENCE: taking certain settlements as certain factions hurts reputation and relations less

min_faction_standing	-1.0
max_faction_standing	1.0

relations_improved_thresholds
{
    0.25
    0.5
    0.8
}

relations_worsened_thresholds
{
    -0.8
    -0.4
    -0.25
}

; trigger information
; faction_standing updated with the command:
; FactionStanding [AFFECTED_HANDLE] [affected_handle_parameters] opt:[MODIFER_HANDLE] opt: [modifier_handle_parameter_1] opt:[modifier_handle_parameter_1]
;
; Available AFFECTED_HANDLE's and their parameters are as follows:
;
; factions { [faction_label_1] [faction_label_2] [etc] }	--> A list of factions to be affected, (own faction automatically excluded)
; target_faction						--> the target_faction attached to the event, (own faction automatically excluded)
; religion [religion_label]					--> all factions of the specified religion, (own faction automatically excluded)
; own_religion							--> all factions of the same religion as the faction of the event, (own faction automatically excluded)
; target_religion						--> all factions of the same religion as the target faction of the event, (own faction automatically excluded)
; global							--> the faction of the event (i.e. own faction)
; exclude_factions { [faction_label_1] [etc] }			--> A list of factions not to be affected, (own faction automatically excluded)
; allies							--> all factions allied with the faction attached to the trigger
; enemies							--> all factions at war with the faction attached to the trigger
; target_allies							--> all factions allied with the target faction attached to the trigger
; target_enemies						--> all factions at war with the target_faction attached to the trigger
;
; Available MODIFIER_HANDLE's and their corresponding parameters
;
; [value]					--> add this 'value' to the affected faction standings
; amount [divisor] [value]			--> for every 'divisor' unit of the event amount, add 'value' to the affected faction standings
; income [divisor] [value]			--> for every 'divisor' unit of the event factions income, add 'value' to the affected faction standings
; normalise [target_faction_standing] [divisor]	--> for each affected faction standing, add (target_faction_standing - faction_standing)/divisor
; per_unit [value]				--> for each unit in the events army, add 'value' to the affected faction standings
; For all the factions:	
; FactionStanding exclude_factions { } -1.0


;######################################################################### 
;##########         DIFFICULTY LEVELS         ############################
;#########################################################################
; Adjust the AI relationships towards each faction based on difficulty level (AI factions have normal difficulty)

;------------------------------------------
Trigger 0092_Update_Easy_Difficulty
    WhenToTest FactionTurnStart

    Condition CampaignDifficulty = easy
		and not FactionType slave

    FactionStanding exclude_factions { slave } normalise 0.1 30
    FactionStanding global normalise 0.6 60 

;------------------------------------------
Trigger 0093_Update_Normal_Difficulty
    WhenToTest FactionTurnStart

    Condition CampaignDifficulty = medium
		and FactionIsLocal
		and not FactionType slave

    FactionStanding exclude_factions { slave } normalise 0.0 30
    FactionStanding global normalise 0.6 60   

;------------------------------------------
Trigger Update_AI
    WhenToTest FactionTurnStart

    Condition not FactionIsLocal
		and not FactionType slave

    FactionStanding global normalise 0.8 60

;------------------------------------------
Trigger Update_AI_catholic
    WhenToTest FactionTurnStart

    Condition not FactionIsLocal 
		and FactionReligion catholic   
		and not FactionType slave		

    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } normalise -0.25 30
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } normalise -0.30 30
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } normalise -0.40 30
    FactionStanding factions { mongols, cumans, lithuania } normalise -0.40 30

;------------------------------------------
Trigger Update_AI_islam
    WhenToTest FactionTurnStart

    Condition not FactionIsLocal
		and FactionReligion islam
		and not FactionType slave

    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } normalise -0.35 30
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } normalise -0.4 30
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } normalise -0.35 30
    FactionStanding factions { mongols, cumans, lithuania } normalise -0.30 30

;------------------------------------------
Trigger Update_AI_orthodox
    WhenToTest FactionTurnStart

    Condition not FactionIsLocal 
		and FactionReligion orthodox              
		and not FactionType slave

    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } normalise -0.30 30
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } normalise -0.25 30
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } normalise -0.35 30
    FactionStanding factions { mongols, cumans, lithuania } normalise -0.20 30

;------------------------------------------
Trigger Update_AI_pagan
    WhenToTest FactionTurnStart

    Condition not FactionIsLocal 
		and FactionReligion orthodox 
		and not FactionType slave

    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } normalise -0.35 30
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } normalise -0.25 30
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } normalise -0.20 30
    FactionStanding factions { mongols, cumans, lithuania } normalise -0.15 30

;------------------------------------------
Trigger 0094_Update_Hard_Difficulty
    WhenToTest FactionTurnStart
		
    Condition CampaignDifficulty = hard
		and not FactionType slave
		and FactionIsLocal
    ;was ---FactionStanding exclude_factions { slave } normalise -0.1 30 
	;    FactionStanding global normalise 0.5 80
	FactionStanding exclude_factions { slave } normalise 0.0 90
 

;------------------------------------------
Trigger 0095_Update_Very_Hard_Difficulty
    WhenToTest FactionTurnStart
 
    Condition CampaignDifficulty = very_hard
		and FactionIsLocal
		and not FactionType slave
	;was: ---FactionStanding exclude_factions { slave } normalise -0.2 30 
	;    FactionStanding global normalise 0.4 80
	FactionStanding global normalise -0.1 100
    FactionStanding exclude_factions { slave } normalise -0.1 90
 


	
;###################### Ecumenical Patriarch ################################
;------------------------------------------
Trigger Ecumenical_Patriarch_Relations
    WhenToTest FactionTurnStart

    Condition I_EventCounter Is_E_Patriarch = 1

    FactionStanding factions { russia, georgia, serbia, kievan_rus } 0.005
	FactionStanding factions { byzantium } 0.0025 ; the romans are not impressed
	FactionStanding factions { papal_states } -0.005 ; hey that's my church you're leading


;###################### PLAYER AGGRESSIVITY ################################
;------------------------------------------
Trigger Player_Aggressivity_Warmonger
	WhenToTest FactionTurnEnd
	
	Condition I_EventCounter player_aggressivity > 8
	and I_EventCounter player_aggressivity < 12
	and I_EventCounter is_the_player == 1
	FactionStanding exclude_factions { slave } normalise -1.0 100
	FactionStanding global normalise -1.0 60

;------------------------------------------
Trigger Player_Aggressivity_Warmonger12
	WhenToTest FactionTurnEnd
	
	Condition I_EventCounter player_aggressivity > 11
	and I_EventCounter player_aggressivity < 24
	and I_EventCounter is_the_player == 1
	
	FactionStanding exclude_factions { slave } normalise -1.0 70
	FactionStanding global normalise -1.0 40
	
;------------------------------------------
Trigger Player_Aggressivity_Warmonger24
	WhenToTest FactionTurnEnd
	
	Condition I_EventCounter player_aggressivity > 23
		and I_EventCounter is_the_player == 1
	FactionStanding exclude_factions { slave } normalise -1.0 50
	FactionStanding global normalise -1.0 20
;######################################################################### 
;##########         FACTION RELATIONS         ############################
;#########################################################################
 
;------------------------------------------
Trigger England
    WhenToTest FactionTurnStart

    Condition FactionType england

    FactionStanding factions { scotland } normalise -0.5 60
    FactionStanding factions { france, denmark } normalise -0.5 60
    FactionStanding factions { hre } normalise 0.0 50
    FactionStanding factions { aragon } normalise 0.2 70
	FactionStanding factions { portugal, sicily } normalise 0.2 160

------------------------------------------
Trigger EnglandAI
    WhenToTest FactionTurnStart
    Condition FactionType england
 	and not FactionIsLocal
    
    FactionStanding factions { portugal, sicily, aragon } normalise 0.2 160
------------------------------------------
Trigger EnglandBig
    WhenToTest FactionTurnStart

    Condition FactionType england
	and I_NumberOfSettlements england > 9
	and I_NumberOfSettlements england < 13
    FactionStanding factions { scotland, france } normalise -0.6 60
    FactionStanding factions { denmark, norway } normalise -0.4 70
;------------------------------------------
Trigger EnglandHuge
    WhenToTest FactionTurnStart

    Condition FactionType england
	and I_NumberOfSettlements england > 12

    FactionStanding factions { scotland, france } normalise -0.8 20
    FactionStanding factions { denmark, norway, hre, spain, aragon, portugal } normalise -0.6 40
    FactionStanding factions { pisa, poland, hungary, papal_states, sicily, moors } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger EnglandCrushed
    WhenToTest FactionTurnStart

    Condition FactionType england
	and I_NumberOfSettlements england < 4

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { scotland, france } normalise 0.4 10
    FactionStanding factions { denmark, norway, hre, spain, aragon, portugal } normalise 0.2 15
    FactionStanding factions { pisa, poland, hungary, sicily } normalise 0.2 30
    
;------------------------------------------
Trigger France
    WhenToTest FactionTurnStart

    Condition FactionType france

    FactionStanding factions { england } normalise -0.5 60
    FactionStanding factions { hre, scotland } normalise -0.3 75
    FactionStanding factions { papal_states } normalise 0.2 60
    FactionStanding factions { aragon } normalise 0.0 75
    
;------------------------------------------
Trigger FranceBig
    WhenToTest FactionTurnStart

    Condition FactionType france
	and I_NumberOfSettlements france > 8
	and I_NumberOfSettlements france < 12
	
    FactionStanding factions { england, aragon, hre } normalise -0.6 60
    FactionStanding factions { scotland, spain } normalise -0.4 70
;------------------------------------------
Trigger FranceHuge
    WhenToTest FactionTurnStart

    Condition FactionType france
	and I_NumberOfSettlements france > 11

    FactionStanding factions { england, aragon, hre } normalise -0.8 20
    FactionStanding factions { scotland, spain, portugal, pisa } normalise -0.6 40
    FactionStanding factions { papal_states, denmark, norway, sicily, hungary, poland } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger FranceCrushed
    WhenToTest FactionTurnStart

    Condition FactionType france
	and I_NumberOfSettlements france < 4

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { england, aragon, hre } normalise 0.4 10
    FactionStanding factions { scotland, spain, portugal, pisa } normalise 0.2 35
    FactionStanding factions { papal_states, denmark, norway, sicily, hungary, poland } normalise 0.2 40

;------------------------------------------
Trigger Hre
    WhenToTest FactionTurnStart

    Condition FactionType hre

    FactionStanding factions { venice } normalise -0.5 60
    FactionStanding factions { france, pisa, papal_states, sicily } normalise -0.3 75
    FactionStanding factions { england, poland, aragon } normalise 0.0 50
    FactionStanding factions { byzantium, denmark, hungary } normalise 0.0 50

;------------------------------------------
Trigger HreBig
    WhenToTest FactionTurnStart

    Condition FactionType hre
	and I_NumberOfSettlements hre > 19
	and I_NumberOfSettlements hre < 25
	
    FactionStanding factions { poland, denmark, france, hungary, sicily } normalise -0.6 40
    FactionStanding factions { england, pisa, papal_states, aragon } normalise -0.4 50

;------------------------------------------
Trigger HreHuge
    WhenToTest FactionTurnStart

    Condition FactionType hre
	and I_NumberOfSettlements hre > 24

    FactionStanding factions { poland, venice, pisa, denmark, france } normalise -0.8 20
    FactionStanding factions { england, pisa, aragon, sicily, hungary } normalise -0.6 40
    FactionStanding factions { spain, portugal, serbia, papal_states, norway } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger HreCrushed
    WhenToTest FactionTurnStart

    Condition FactionType hre
	and I_NumberOfSettlements hre < 10

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { poland, venice, pisa, denmark, france } normalise 0.4 10
    FactionStanding factions { england, pisa, aragon, sicily, hungary } normalise 0.2 35
    FactionStanding factions { spain, portugal, serbia, norway } normalise 0.2 40   
    
;------------------------------------------
Trigger Spain
    WhenToTest FactionTurnStart

    Condition FactionType spain

    FactionStanding factions { moors } normalise -0.6 50
    FactionStanding factions { portugal } normalise 0.2 50
    FactionStanding factions { aragon } normalise 0.2 75
    
;------------------------------------------
Trigger SpainBig
    WhenToTest FactionTurnStart

    Condition FactionType spain
	and I_NumberOfSettlements spain > 8
	and I_NumberOfSettlements spain < 12
	
    FactionStanding factions { moors } normalise -0.7 55
    FactionStanding factions { portugal, aragon } normalise -0.5 55
    FactionStanding factions { france, sicily, england } normalise -0.4 50

;------------------------------------------
Trigger SpainHuge
    WhenToTest FactionTurnStart

    Condition FactionType spain
	and I_NumberOfSettlements spain > 11

    FactionStanding factions { moors, portugal, aragon } normalise -0.8 20
    FactionStanding factions { france, sicily, england } normalise -0.6 40
    FactionStanding factions { egypt, pisa, venice, hre } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger SpainCrushed
    WhenToTest FactionTurnStart

    Condition FactionType spain
	and I_NumberOfSettlements spain < 3

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { moors, portugal, aragon } normalise 0.4 10
    FactionStanding factions { france, sicily, england } normalise 0.2 35
    FactionStanding factions { egypt, pisa, venice, hre } normalise 0.2 40
        
;------------------------------------------
Trigger Venice
    WhenToTest FactionTurnStart

    Condition FactionType venice

    FactionStanding factions { byzantium, egypt } normalise -0.5 60
    FactionStanding factions { hre, sicily } normalise -0.4 50
    FactionStanding factions { pisa } normalise -0.3 50
    FactionStanding factions { jerusalem } normalise 0.3 50
    
;------------------------------------------
Trigger VeniceBig
    WhenToTest FactionTurnStart

    Condition FactionType venice
	and I_NumberOfSettlements venice > 5
	and I_NumberOfSettlements venice < 10
	
    FactionStanding factions { pisa, byzantium } normalise -0.6 55
    FactionStanding factions { hre, hungary, sicily } normalise -0.4 60

;------------------------------------------
Trigger VeniceHuge
    WhenToTest FactionTurnStart

    Condition FactionType venice
	and I_NumberOfSettlements venice > 9

    FactionStanding factions { pisa, sicily } normalise -0.8 20
    FactionStanding factions { hre, hungary } normalise -0.6 40
    FactionStanding factions { france, serbia, papal_states, aragon, byzantium } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger VeniceCrushed
    WhenToTest FactionTurnStart

    Condition FactionType venice
	and I_NumberOfSettlements venice < 2

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { pisa, sicily } normalise 0.4 15
    FactionStanding factions { hre, hungary } normalise 0.2 35
    FactionStanding factions { france, byzantium, aragon, serbia, poland } normalise 0.2 40
;------------------------------------------
Trigger Sicily
    WhenToTest FactionTurnStart

    Condition FactionType sicily

    FactionStanding factions { hungary, france, serbia, aragon } normalise -0.3 50
    FactionStanding factions { venice, papal_states, hre } normalise -0.4 40
    FactionStanding factions { byzantium, pisa } normalise -0.5 60
    FactionStanding factions { jerusalem } normalise 0.4 50
	FactionStanding factions { england, moors } normalise 0.2 160

------------------------------------------
Trigger SicilyAI
    WhenToTest FactionTurnStart

    Condition FactionType sicily
	and not FactionIsLocal

    FactionStanding factions { england, moors } normalise 0.2 160    
    
------------------------------------------
Trigger SicilyBig
    WhenToTest FactionTurnStart

    Condition FactionType sicily
	and I_NumberOfSettlements sicily > 6
	and I_NumberOfSettlements sicily < 11
    FactionStanding factions { hre } normalise -0.4 55
    FactionStanding factions { venice, pisa, byzantium } normalise -0.6 60
    
;------------------------------------------
Trigger SicilyHuge
    WhenToTest FactionTurnStart

    Condition FactionType sicily
	and I_NumberOfSettlements sicily > 10

    FactionStanding factions { hre } normalise -0.6 20
    FactionStanding factions { venice, pisa, byzantium } normalise -0.8 40
    FactionStanding factions { france, aragon, hungary, serbia, papal_states } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger SicilyCrushed
    WhenToTest FactionTurnStart

    Condition FactionType sicily
	and I_NumberOfSettlements sicily < 4

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { hre } normalise 0.4 10
    FactionStanding factions { venice, pisa, byzantium } normalise 0.2 35
    FactionStanding factions { france, aragon, hungary, serbia } normalise 0.2 40

;------------------------------------------
Trigger abbasid
    WhenToTest FactionTurnStart

    Condition FactionType abbasid

    FactionStanding factions { turks, mongols } normalise -0.6 40
    FactionStanding factions { zengid, jerusalem } normalise -0.3 50
    FactionStanding factions { egypt } normalise 0.2 50   
    
------------------------------------------
Trigger abbasidAI
    WhenToTest FactionTurnStart

    Condition FactionType abbasid
	and not FactionIsLocal

    FactionStanding factions { zengid } normalise 0.1 30
    FactionStanding factions { egypt } normalise 0.3 70
    FactionStanding factions { jerusalem } normalise 0.2 60
    
------------------------------------------
Trigger abbasidBig
    WhenToTest FactionTurnStart

    Condition FactionType abbasid
	and I_NumberOfSettlements abbasid > 6
	and I_NumberOfSettlements abbasid < 12
	
    FactionStanding factions { turks, georgia } normalise -0.6 55 
    FactionStanding factions { zengid, jerusalem, egypt, rum } normalise -0.4 50
    FactionStanding factions { moors } normalise 0.3 60    
    
;------------------------------------------
Trigger abbasidHuge
    WhenToTest FactionTurnStart

    Condition FactionType abbasid
	and I_NumberOfSettlements abbasid > 11

    FactionStanding factions { turks, georgia } normalise -0.8 20 
    FactionStanding factions { zengid, jerusalem, egypt, rum } normalise -0.6 40
    FactionStanding factions { byzantium, cumans } normalise -0.6 65   
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger abbasidCrushed
    WhenToTest FactionTurnStart

    Condition FactionType abbasid
	and I_NumberOfSettlements abbasid < 3

    FactionStanding factions { zengid, turks, georgia } normalise 0.4 10 
    FactionStanding factions { jerusalem, egypt, rum } normalise 0.2 35
    FactionStanding factions { byzantium, cumans } normalise 0.2 40         
    
;------------------------------------------
Trigger pisa
    WhenToTest FactionTurnStart

    Condition FactionType pisa

    FactionStanding factions { moors } normalise -0.5 40
    FactionStanding factions { sicily, byzantium } normalise -0.5 60
    FactionStanding factions { hre } normalise 0.0 50
    FactionStanding factions { jerusalem } normalise 0.2 50   

;------------------------------------------
Trigger pisaBig
    WhenToTest FactionTurnStart

    Condition FactionType pisa
	and I_NumberOfSettlements pisa > 5
	and I_NumberOfSettlements pisa < 10
    FactionStanding factions { venice } normalise -0.6 55
    FactionStanding factions { hre, sicily, moors } normalise -0.4 50

;------------------------------------------
Trigger pisaHuge
    WhenToTest FactionTurnStart

    Condition FactionType pisa
	and I_NumberOfSettlements pisa > 9

    FactionStanding factions { venice } normalise -0.8 20
    FactionStanding factions { hre, sicily, moors } normalise -0.6 40
    FactionStanding factions { france, aragon, papal_states, hungary } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger pisaCrushed
    WhenToTest FactionTurnStart

    Condition FactionType pisa
	and I_NumberOfSettlements pisa < 2

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { venice } normalise 0.4 10
    FactionStanding factions { hre, sicily, moors } normalise 0.2 35
    FactionStanding factions { france, aragon, hungary } normalise 0.2 40
    
;------------------------------------------
Trigger Scotland
    WhenToTest FactionTurnStart

    Condition FactionType scotland

    FactionStanding factions { norway, england } normalise -0.5 60
    FactionStanding factions { denmark } normalise -0.4 50
        
;------------------------------------------
Trigger ScotlandBig
    WhenToTest FactionTurnStart

    Condition FactionType scotland
	and I_NumberOfSettlements scotland > 3
	and I_NumberOfSettlements scotland < 7
    FactionStanding factions { norway, england } normalise -0.6 55
    FactionStanding factions { denmark, france } normalise -0.4 50
    
;------------------------------------------
Trigger ScotlandHuge
    WhenToTest FactionTurnStart

    Condition FactionType scotland
	and I_NumberOfSettlements scotland > 6

    FactionStanding factions { norway, england } normalise -0.8 20
    FactionStanding factions { denmark, france } normalise -0.6 40
    FactionStanding factions { hre, spain, papal_states } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger ScotlandCrushed
    WhenToTest FactionTurnStart

    Condition FactionType scotland
	and I_NumberOfSettlements scotland < 2

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { norway, england } normalise 0.4 10
    FactionStanding factions { france, denmark } normalise 0.2 35
    FactionStanding factions { hre, spain } normalise 0.2 40
    
;------------------------------------------
Trigger Cumans
    WhenToTest FactionTurnStart

    Condition FactionType cumans

    FactionStanding factions { mongols, kievan_rus } normalise -0.6 40
    FactionStanding factions { venice, pisa } normalise -0.6 75
    FactionStanding factions { hungary, russia } normalise -0.3 50
    FactionStanding factions { georgia } normalise 0.3 50
	FactionStanding factions { lithuania } normalise 0.4 160

;------------------------------------------
Trigger CumansAI
    WhenToTest FactionTurnStart

    Condition FactionType cumans
	and not FactionIsLocal

    FactionStanding factions { lithuania } normalise 0.4 160
    FactionStanding factions { georgia } normalise 0.2 80    
    
;------------------------------------------
Trigger CumansBig
    WhenToTest FactionTurnStart

    Condition FactionType cumans
	and I_NumberOfSettlements cumans > 8
	and I_NumberOfSettlements cumans < 13
    FactionStanding factions { kievan_rus, georgia } normalise -0.6 55
    FactionStanding factions { byzantium, turks } normalise -0.4 50
    
;------------------------------------------
Trigger CumansHuge
    WhenToTest FactionTurnStart

    Condition FactionType cumans
	and I_NumberOfSettlements cumans > 12

    FactionStanding factions { kievan_rus, georgia } normalise -0.8 20
    FactionStanding factions { byzantium, turks } normalise -0.6 40
    FactionStanding factions { hungary, lithuania, rum, russia, zengid } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger CumansCrushed
    WhenToTest FactionTurnStart

    Condition FactionType cumans
	and I_NumberOfSettlements cumans < 3

    FactionStanding factions { kievan_rus, georgia } normalise 0.4 10
    FactionStanding factions { byzantium, turks } normalise 0.2 35
    FactionStanding factions { hungary, lithuania, rum, russia, zengid } normalise 0.2 40
    
;------------------------------------------
Trigger Byzantium
    WhenToTest FactionTurnStart

    Condition FactionType byzantium

    FactionStanding factions { rum, sicily } normalise -0.6 40
    FactionStanding factions { venice, serbia, zengid } normalise -0.5 60
    FactionStanding factions { egypt, hungary } normalise -0.3 50
    FactionStanding factions { georgia } normalise -0.20 60
    FactionStanding factions { hre, pisa } normalise -0.1 50
	FactionStanding factions { kievan_rus } normalise 0.1 60
    
;------------------------------------------
Trigger ByzantiumBig
    WhenToTest FactionTurnStart

    Condition FactionType byzantium
	and I_NumberOfSettlements byzantium > 15
	and I_NumberOfSettlements byzantium < 21
    FactionStanding factions { rum, hungary } normalise -0.7 35
    FactionStanding factions { serbia, venice, cumans, sicily } normalise -0.5 50

;------------------------------------------
Trigger ByzantiumHuge
    WhenToTest FactionTurnStart

    Condition FactionType byzantium
	and I_NumberOfSettlements byzantium > 20

    FactionStanding factions { rum, hungary } normalise -0.8 20
    FactionStanding factions { serbia, pisa, venice, sicily } normalise -0.6 40
    FactionStanding factions { jerusalem, zengid, egypt, cumans, papal_states } normalise -0.6 65
    FactionStanding factions { kievan_rus, georgia } normalise -0.6 75
	FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger ByzantiumCrushed
    WhenToTest FactionTurnStart

    Condition FactionType byzantium
	and I_NumberOfSettlements byzantium < 6

    FactionStanding factions { rum, hungary } normalise 0.4 10
    FactionStanding factions { serbia, venice, cumans, sicily } normalise 0.2 35
    FactionStanding factions { jerusalem, zengid, egypt, papal_states, georgia, kievan_rus } normalise 0.2 40
    
;------------------------------------------
Trigger Russia
    WhenToTest FactionTurnStart

    Condition FactionType russia

    FactionStanding factions { mongols } normalise -0.6 40
    FactionStanding factions { denmark, norway } normalise -0.5 60
    FactionStanding factions { lithuania } normalise -0.4 50
    FactionStanding factions { cumans } normalise -0.3 50
    FactionStanding factions { kievan_rus } normalise 0.0 50   
    
;------------------------------------------
Trigger RussiaBig
    WhenToTest FactionTurnStart

    Condition FactionType russia
	and I_NumberOfSettlements russia > 4
	and I_NumberOfSettlements russia < 9
    FactionStanding factions { lithuania, cumans } normalise -0.6 55
    FactionStanding factions { kievan_rus, poland } normalise -0.4 50
    
;------------------------------------------
Trigger RussiaHuge
    WhenToTest FactionTurnStart

    Condition FactionType russia
	and I_NumberOfSettlements russia > 8

    FactionStanding factions { lithuania, cumans } normalise -0.8 20
    FactionStanding factions { kievan_rus, poland } normalise -0.6 40
    FactionStanding factions { denmark, norway, hre, byzantium, georgia, turks } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger RussiaCrushed
    WhenToTest FactionTurnStart

    Condition FactionType russia
	and I_NumberOfSettlements russia < 2

    FactionStanding factions { lithuania, cumans } normalise 0.4 10
    FactionStanding factions { kievan_rus, poland } normalise 0.2 35
    FactionStanding factions { denmark, norway, hre, byzantium, georgia, turks } normalise 0.2 40


;------------------------------------------
Trigger Moors
    WhenToTest FactionTurnStart

    Condition FactionType moors

    FactionStanding factions { spain, aragon } normalise -0.6 50
    FactionStanding factions { portugal, egypt } normalise -0.5 60
    
;------------------------------------------
Trigger MoorsBig
    WhenToTest FactionTurnStart

    Condition FactionType moors
	and I_NumberOfSettlements moors > 10
	and I_NumberOfSettlements moors < 16
    FactionStanding factions { spain, portugal, aragon } normalise -0.6 55
    FactionStanding factions { pisa, papal_states } normalise -0.4 50
    
;------------------------------------------
Trigger MoorsHuge
    WhenToTest FactionTurnStart

    Condition FactionType moors
	and I_NumberOfSettlements moors > 15

    FactionStanding factions { spain, portugal, aragon } normalise -0.8 20
    FactionStanding factions { pisa, papal_states, egypt } normalise -0.6 40
    FactionStanding factions { france, sicily, venice, england, zengid, abbasid, hre } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger MoorsCrushed
    WhenToTest FactionTurnStart

    Condition FactionType moors
	and I_NumberOfSettlements moors < 6

    FactionStanding factions { spain, portugal, aragon } normalise 0.4 10
    FactionStanding factions { pisa, papal_states, egypt } normalise 0.2 35
    FactionStanding factions { france, sicily, venice, england, zengid, abbasid, hre } normalise 0.2 40
        
;------------------------------------------
Trigger turks
    WhenToTest FactionTurnStart

    Condition FactionType turks

    FactionStanding factions { mongols } normalise -0.6 40
    FactionStanding factions { abbasid, georgia } normalise -0.5 40
    FactionStanding factions { egypt, cumans } normalise -0.3 50
    FactionStanding factions { zengid, rum } normalise 0.0 50

;------------------------------------------
Trigger turksBig
    WhenToTest FactionTurnStart

    Condition FactionType turks
	and I_NumberOfSettlements turks > 8
	and I_NumberOfSettlements turks < 14
    FactionStanding factions { abbasid, georgia } normalise -0.6 55
    FactionStanding factions { zengid, rum } normalise -0.4 50

;------------------------------------------
Trigger turksHuge
    WhenToTest FactionTurnStart

    Condition FactionType turks
	and I_NumberOfSettlements turks > 13

    FactionStanding factions { abbasid, georgia } normalise -0.8 20
    FactionStanding factions { zengid, rum } normalise -0.6 40
    FactionStanding factions { jerusalem, egypt, cumans, byzantium } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger turksCrushed
    WhenToTest FactionTurnStart

    Condition FactionType turks
	and I_NumberOfSettlements turks < 4

    FactionStanding factions { abbasid, georgia } normalise 0.4 10
    FactionStanding factions { zengid, rum } normalise 0.2 35
    FactionStanding factions { jerusalem, egypt, cumans, byzantium } normalise 0.2 40
            
;------------------------------------------
Trigger rum
    WhenToTest FactionTurnStart

    Condition FactionType rum

    FactionStanding factions { byzantium, mongols } normalise -0.6 50
    FactionStanding factions { zengid } normalise -0.3 50
    FactionStanding factions { turks } normalise 0.0 50
    
;------------------------------------------
Trigger rumBig
    WhenToTest FactionTurnStart

    Condition FactionType rum
	and I_NumberOfSettlements rum > 6
	and I_NumberOfSettlements rum < 13
    FactionStanding factions { byzantium, jerusalem } normalise -0.6 55
    FactionStanding factions { georgia, zengid } normalise -0.4 50

;------------------------------------------
Trigger rumHuge
    WhenToTest FactionTurnStart

    Condition FactionType rum
	and I_NumberOfSettlements rum > 12

    FactionStanding factions { byzantium, jerusalem } normalise -0.8 20
    FactionStanding factions { georgia, zengid } normalise -0.6 40 
    FactionStanding factions { abbasid, turks, egypt, cumans } normalise -0.6 65 
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger rumCrushed
    WhenToTest FactionTurnStart

    Condition FactionType rum
	and I_NumberOfSettlements rum < 2

    FactionStanding factions { byzantium, jerusalem } normalise 0.4 10
    FactionStanding factions { georgia, zengid } normalise 0.2 35 
    FactionStanding factions { abbasid, turks, egypt, cumans } normalise 0.2 40 

;------------------------------------------
Trigger Egypt
    WhenToTest FactionTurnStart

    Condition FactionType egypt

    FactionStanding factions { mongols } normalise -0.6 40
    FactionStanding factions { jerusalem } normalise -0.7 40
    FactionStanding factions { venice, zengid } normalise -0.5 50
    FactionStanding factions { byzantium } normalise -0.3 50
    
;------------------------------------------
Trigger EgyptBig
    WhenToTest FactionTurnStart

    Condition FactionType egypt
	and I_NumberOfSettlements egypt > 7
	and I_NumberOfSettlements egypt < 13
    FactionStanding factions { zengid, jerusalem  } normalise -0.6 55
    FactionStanding factions { venice, byzantium } normalise -0.4 50

;------------------------------------------
Trigger EgyptHuge
    WhenToTest FactionTurnStart

    Condition FactionType egypt
	and I_NumberOfSettlements egypt > 12

    FactionStanding factions { zengid, jerusalem  } normalise -0.8 20
    FactionStanding factions { venice, byzantium } normalise -0.6 40
    FactionStanding factions { abbasid, turks, moors, rum } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger EgyptCrushed
    WhenToTest FactionTurnStart

    Condition FactionType egypt
	and I_NumberOfSettlements egypt < 3

    FactionStanding factions { zengid, jerusalem  } normalise 0.4 10
    FactionStanding factions { venice, byzantium } normalise 0.2 35
    FactionStanding factions { abbasid, turks, moors, rum } normalise 0.2 40
            
;------------------------------------------
Trigger Denmark
    WhenToTest FactionTurnStart

    Condition FactionType denmark

    FactionStanding factions { norway, lithuania, russia } normalise -0.5 60
    FactionStanding factions { poland, scotland } normalise -0.4 50
    FactionStanding factions { hre } normalise 0.0 50
    
;------------------------------------------
Trigger DenmarkBig
    WhenToTest FactionTurnStart

    Condition FactionType denmark
	and I_NumberOfSettlements denmark > 5
	and I_NumberOfSettlements denmark < 10
    FactionStanding factions { norway } normalise -0.6 55
    FactionStanding factions { poland, hre } normalise -0.4 50
    
;------------------------------------------
Trigger DenmarkHuge
    WhenToTest FactionTurnStart

    Condition FactionType denmark
	and I_NumberOfSettlements denmark > 9

    FactionStanding factions { norway } normalise -0.8 20
    FactionStanding factions { poland, hre } normalise -0.6 40 
    FactionStanding factions { lithuania, russia, england, france } normalise -0.6 65   
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger DenmarkCrushed
    WhenToTest FactionTurnStart

    Condition FactionType denmark
	and I_NumberOfSettlements denmark < 2

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { norway } normalise 0.4 15
    FactionStanding factions { poland, hre } normalise 0.2 35 
    FactionStanding factions { lithuania, russia, england, france } normalise 0.2 40

;------------------------------------------
Trigger Portugal
    WhenToTest FactionTurnStart

    Condition FactionType portugal

    FactionStanding factions { england, sicily } normalise 0.0 50
    FactionStanding factions { moors } normalise -0.5 60
    FactionStanding factions { spain } normalise 0.1 50   

;------------------------------------------
Trigger PortugalBig
    WhenToTest FactionTurnStart

    Condition FactionType portugal
	and I_NumberOfSettlements portugal > 4
	and I_NumberOfSettlements portugal < 10
    FactionStanding factions { moors } normalise -0.6 55
    FactionStanding factions { aragon } normalise -0.4 50
    FactionStanding factions { spain } normalise 0.4 20

;------------------------------------------
Trigger PortugalHuge
    WhenToTest FactionTurnStart

    Condition FactionType portugal
	and I_NumberOfSettlements portugal > 9

    FactionStanding factions { moors, spain } normalise -0.8 20
    FactionStanding factions { aragon } normalise -0.6 40
    FactionStanding factions { france, england, pisa } normalise -0.6 65  
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger PortugalCrushed
    WhenToTest FactionTurnStart

    Condition FactionType portugal
	and I_NumberOfSettlements portugal < 2

    FactionStanding factions { moors, spain } normalise 0.4 10
    FactionStanding factions { aragon } normalise 0.2 35
    FactionStanding factions { france, england, pisa } normalise 0.2 40

;------------------------------------------
Trigger Poland
    WhenToTest FactionTurnStart

    Condition FactionType poland

    FactionStanding factions { lithuania } normalise -0.5 60
    FactionStanding factions { hungary } normalise 0.1 50
    FactionStanding factions { hre } normalise 0.0 50
    
;------------------------------------------
Trigger PolandBig
    WhenToTest FactionTurnStart

    Condition FactionType poland
	and I_NumberOfSettlements poland > 7
	and I_NumberOfSettlements poland < 11
    FactionStanding factions { kievan_rus, lithuania } normalise -0.6 55
    FactionStanding factions { hungary, hre, kievan_rus } normalise -0.4 50

;------------------------------------------
Trigger PolandHuge
    WhenToTest FactionTurnStart

    Condition FactionType poland
	and I_NumberOfSettlements poland > 10

    FactionStanding factions { kievan_rus, lithuania } normalise -0.8 20
    FactionStanding factions { hungary, hre, kievan_rus } normalise -0.6 40
    FactionStanding factions { russia, denmark, byzantium, serbia } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger PolandCrushed
    WhenToTest FactionTurnStart

    Condition FactionType poland
	and I_NumberOfSettlements poland < 4

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { kievan_rus, lithuania } normalise 0.4 10
    FactionStanding factions { hungary, hre, kievan_rus } normalise 0.2 35
    FactionStanding factions { russia, denmark, byzantium, serbia } normalise 0.2 40

;------------------------------------------
Trigger Hungary
    WhenToTest FactionTurnStart

    Condition FactionType hungary

    FactionStanding factions { byzantium } normalise -0.3 50
    FactionStanding factions { venice } normalise -0.3 60
    FactionStanding factions { poland } normalise 0.1 50
    FactionStanding factions { hre, serbia } normalise 0.1 50
    
;------------------------------------------
Trigger HungaryBig
    WhenToTest FactionTurnStart

    Condition FactionType hungary
	and I_NumberOfSettlements hungary > 8
	and I_NumberOfSettlements hungary < 13
    FactionStanding factions { poland, byzantium } normalise -0.6 55
    FactionStanding factions { venice, serbia } normalise -0.4 50

;------------------------------------------
Trigger HungaryHuge
    WhenToTest FactionTurnStart

    Condition FactionType hungary
	and I_NumberOfSettlements hungary > 12

    FactionStanding factions { poland, byzantium } normalise -0.8 20
    FactionStanding factions { venice, serbia } normalise -0.6 40
    FactionStanding factions { kievan_rus, cumans, pisa, sicily } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger HungaryCrushed
    WhenToTest FactionTurnStart

    Condition FactionType hungary
	and I_NumberOfSettlements hungary < 4

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { poland, byzantium } normalise 0.4 10
    FactionStanding factions { venice, serbia } normalise 0.2 35
    FactionStanding factions { kievan_rus, cumans, pisa, sicily } normalise 0.2 40
    
;------------------------------------------
Trigger Lithuania
    WhenToTest FactionTurnStart
    Condition FactionType lithuania

    FactionStanding factions { russia, poland } normalise -0.5 60
    FactionStanding factions { denmark } normalise -0.5 60
    FactionStanding factions { cumans } normalise 0.0 50
    
;------------------------------------------
Trigger LithuaniaBig
    WhenToTest FactionTurnStart

    Condition FactionType lithuania
	and I_NumberOfSettlements lithuania > 3
	and I_NumberOfSettlements lithuania < 9
    FactionStanding factions { russia } normalise -0.6 55
    FactionStanding factions { poland, kievan_rus } normalise -0.4 50

;------------------------------------------
Trigger LithuaniaHuge
    WhenToTest FactionTurnStart

    Condition FactionType lithuania
	and I_NumberOfSettlements lithuania > 8

    FactionStanding factions { russia } normalise -0.8 20
    FactionStanding factions { poland, kievan_rus } normalise -0.6 40
    FactionStanding factions { hre, denmark, hungary, norway, papal_states } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger LithuaniaCrushed
    WhenToTest FactionTurnStart

    Condition FactionType lithuania
	and I_NumberOfSettlements lithuania < 2
  and I_TurnNumber > 20
  

    FactionStanding factions { russia } normalise 0.4 10
    FactionStanding factions { poland, kievan_rus } normalise 0.2 35
    FactionStanding factions { hre, denmark, hungary, norway, papal_states } normalise 0.2 40

;------------------------------------------
Trigger Kievan_Rus
    WhenToTest FactionTurnStart

    Condition FactionType kievan_rus

    FactionStanding factions { cumans, mongols } normalise -0.6 40
    FactionStanding factions { byzantium } normalise 0.1 50
    FactionStanding factions { russia } normalise 0.0 50
	FactionStanding factions { lithuania, hungary, poland } normalise 0.1 120
    
;------------------------------------------
Trigger Kievan_RusAI
    WhenToTest FactionTurnStart

    Condition FactionType kievan_rus
	and not FactionIsLocal

    FactionStanding factions { lithuania, hungary, poland } normalise 0.1 120
    FactionStanding factions { russia } normalise 0.1 70
    
;------------------------------------------
Trigger Kievan_RusBig
    WhenToTest FactionTurnStart

    Condition FactionType kievan_rus
	and I_NumberOfSettlements kievan_rus > 7
	and I_NumberOfSettlements kievan_rus < 14
    FactionStanding factions { cumans, lithuania } normalise -0.6 55
    FactionStanding factions { russia, byzantium } normalise -0.4 50

;------------------------------------------
Trigger Kievan_RusHuge
    WhenToTest FactionTurnStart

    Condition FactionType kievan_rus
	and I_NumberOfSettlements kievan_rus > 13

    FactionStanding factions { cumans, lithuania } normalise -0.8 20
    FactionStanding factions { russia, byzantium } normalise -0.6 40
    FactionStanding factions { poland, hungary, georgia, turks } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger Kievan_RusCrushed
    WhenToTest FactionTurnStart

    Condition FactionType kievan_rus
	and I_NumberOfSettlements kievan_rus < 4

    FactionStanding factions { cumans, lithuania } normalise 0.4 10
    FactionStanding factions { russia, byzantium } normalise 0.2 35
    FactionStanding factions { poland, hungary, georgia, turks } normalise 0.2 40
        
;------------------------------------------
Trigger Aragon
    WhenToTest FactionTurnStart

    Condition FactionType aragon

    FactionStanding factions { moors } normalise -0.6 40
    FactionStanding factions { spain, sicily } normalise 0.2 70 
    FactionStanding factions { england, hre } normalise 0.0 50
    FactionStanding factions { france } normalise 0.0 75
    
;------------------------------------------
Trigger AragonBig
    WhenToTest FactionTurnStart

    Condition FactionType aragon
	and I_NumberOfSettlements aragon > 5
	and I_NumberOfSettlements aragon < 11
    FactionStanding factions { moors } normalise -0.6 55
    FactionStanding factions { france, spain } normalise -0.4 50

;------------------------------------------
Trigger AragonHuge
    WhenToTest FactionTurnStart

    Condition FactionType aragon
	and I_NumberOfSettlements aragon > 10

    FactionStanding factions { moors } normalise -0.8 20
    FactionStanding factions { france, spain } normalise -0.6 40
    FactionStanding factions { portugal, england, sicily, pisa, hre } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger AragonCrushed
    WhenToTest FactionTurnStart

    Condition FactionType aragon
	and I_NumberOfSettlements aragon < 2

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { moors } normalise 0.4 10
    FactionStanding factions { france, spain } normalise 0.2 35
    FactionStanding factions { portugal, england, sicily, pisa, hre } normalise 0.2 40

;------------------------------------------
Trigger Norway
    WhenToTest FactionTurnStart

    Condition FactionType norway

    FactionStanding factions { england, scotland } normalise -0.5 60
    FactionStanding factions { denmark } normalise -0.5 50
	FactionStanding factions { hre } normalise 0.2 120
    FactionStanding factions { poland } normalise 0.2 160
        
;-----------------------------------------
Trigger NorwayAI
    WhenToTest FactionTurnStart

    Condition FactionType norway
	and not FactionIsLocal

    FactionStanding factions { hre } normalise 0.2 120
    FactionStanding factions { poland } normalise 0.2 160
    
;------------------------------------------
Trigger NorwayBig
    WhenToTest FactionTurnStart

    Condition FactionType norway
	and I_NumberOfSettlements norway > 3
	and I_NumberOfSettlements norway < 9
    FactionStanding factions { denmark } normalise -0.6 55
    FactionStanding factions { england } normalise -0.4 50

;------------------------------------------
Trigger NorwayHuge
    WhenToTest FactionTurnStart

    Condition FactionType norway
	and I_NumberOfSettlements norway > 8

    FactionStanding factions { denmark } normalise -0.8 20
    FactionStanding factions { england } normalise -0.6 40
    FactionStanding factions { hre, poland, scotland, russia, lithuania } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100
   
;------------------------------------------
Trigger NorwayCrushed
    WhenToTest FactionTurnStart

    Condition FactionType norway
	and I_NumberOfSettlements norway < 2

    FactionStanding factions { papal_states } normalise 0.6 10
    FactionStanding factions { denmark } normalise 0.4 10
    FactionStanding factions { england } normalise 0.2 35
    FactionStanding factions { hre, poland, scotland, russia, lithuania } normalise 0.2 40
    
;------------------------------------------
Trigger Zengid
    WhenToTest FactionTurnStart

    Condition FactionType zengid
    
    FactionStanding factions { mongols } normalise -0.6 40
    FactionStanding factions { egypt, byzantium } normalise -0.5 60
    FactionStanding factions { rum } normalise -0.3 50    
    FactionStanding factions { turks, abbasid } normalise 0.0 50
	FactionStanding factions { moors } normalise 0.2 140
    
;------------------------------------------
Trigger ZengidAI
    WhenToTest FactionTurnStart

    Condition FactionType zengid
	and not FactionIsLocal

    FactionStanding factions { moors } normalise 0.2 140
    
;------------------------------------------
Trigger ZengidBig
    WhenToTest FactionTurnStart

    Condition FactionType zengid
	and I_NumberOfSettlements zengid > 5
	and I_NumberOfSettlements zengid < 11
    FactionStanding factions { jerusalem } normalise -0.6 55
    FactionStanding factions { egypt, abbasid } normalise -0.4 50
    
;------------------------------------------
Trigger ZengidHuge
    WhenToTest FactionTurnStart

    Condition FactionType zengid
	and I_NumberOfSettlements zengid > 10

    FactionStanding factions { jerusalem } normalise -0.8 20
    FactionStanding factions { egypt, abbasid } normalise -0.6 40
    FactionStanding factions { turks, rum, byzantium, georgia } normalise -0.6 65   
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger ZengidCrushed
    WhenToTest FactionTurnStart

    Condition FactionType zengid
	and I_NumberOfSettlements zengid < 2

    FactionStanding factions { jerusalem } normalise 0.4 10
    FactionStanding factions { egypt, abbasid } normalise 0.2 35
    FactionStanding factions { turks, rum, byzantium, georgia } normalise 0.2 40 
        
;------------------------------------------
Trigger Papal_States
    WhenToTest FactionTurnStart

    Condition FactionType papal_states

    FactionStanding factions { turks, rum, egypt, moors, mongols, zengid, lithuania, cumans } normalise -0.6 50
    FactionStanding factions { byzantium, kievan_rus, russia } normalise -0.25 60
    FactionStanding factions { pisa, venice, aragon, spain, portugal, england, scotland, hungary, poland, denmark, norway, jerusalem } normalise 0.3 50
    FactionStanding factions { hre, france, sicily } normalise 0.0 50
    
;------------------------------------------
Trigger Papal_StatesBig
    WhenToTest FactionTurnStart  

    Condition FactionType papal_states
	and I_NumberOfSettlements papal_states > 6

   FactionStanding factions { pisa, hre, venice, france, aragon, sicily, spain, england, hungary, poland, denmark, portugal } normalise -0.6 40
    FactionStanding factions { byzantium, kievan_rus, russia } normalise -0.4 50          
    
;------------------------------------------
Trigger Papal_StatesCrushed
    WhenToTest FactionTurnStart  
  
    Condition FactionType papal_states
  and I_NumberOfSettlements papal_states < 1

    FactionStanding factions { pisa, hre, venice, france, aragon, spain, england, hungary, poland, denmark, portugal } normalise 0.4 10
    FactionStanding factions { byzantium, kievan_rus, russia } normalise 0.2 35    
    
;------------------------------------------
Trigger Mongols_Invasion
    WhenToTest FactionTurnStart

    Condition FactionType mongols
    and I_TurnNumber < 300

    FactionStanding exclude_factions { slave } normalise -0.6 50
    
;------------------------------------------
Trigger Mongols_Golden_Horde
    WhenToTest FactionTurnStart

    Condition FactionType mongols
    and I_TurnNumber > 300

    FactionStanding exclude_factions { slave } normalise -0.4 50
    
;------------------------------------------
Trigger Serbia
    WhenToTest FactionTurnStart

    Condition FactionType serbia

    FactionStanding factions { byzantium } normalise -0.5 60
    FactionStanding factions { hungary } normalise 0.1 50
    FactionStanding factions { venice } normalise 0.2 50

;------------------------------------------
Trigger SerbiaAI
    WhenToTest FactionTurnStart

    Condition FactionType serbia
	and not FactionIsLocal

    FactionStanding factions { hungary } normalise 0.2 50
	
;------------------------------------------
Trigger SerbiaBig
    WhenToTest FactionTurnStart

    Condition FactionType serbia
	and I_NumberOfSettlements serbia > 3
	and I_NumberOfSettlements serbia < 10
    FactionStanding factions { byzantium } normalise -0.6 55
    FactionStanding factions { hungary, venice } normalise -0.4 50
    FactionStanding factions { papal_states } normalise 0.4 70

;------------------------------------------
Trigger SerbiaHuge
    WhenToTest FactionTurnStart

    Condition FactionType serbia
	and I_NumberOfSettlements serbia > 9

    FactionStanding factions { byzantium } normalise -0.8 20
    FactionStanding factions { hungary, venice } normalise -0.6 40
    FactionStanding factions { sicily, rum, hre, cumans, poland } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger SerbiaCrushed
    WhenToTest FactionTurnStart

    Condition FactionType serbia
	and I_NumberOfSettlements serbia < 2
  and I_TurnNumber > 15

    FactionStanding factions { byzantium } normalise 0.4 10
    FactionStanding factions { hungary, venice } normalise 0.2 35
    FactionStanding factions { sicily, rum, hre, cumans, poland } normalise 0.2 40
    
;------------------------------------------
Trigger georgia
    WhenToTest FactionTurnStart

    Condition FactionType georgia

    FactionStanding factions { mongols } normalise -0.6 40
    FactionStanding factions { turks } normalise -0.5 40
    FactionStanding factions { byzantium } normalise -0.1 50
    FactionStanding factions { jerusalem } normalise 0.3 50
    FactionStanding factions { cumans } normalise 0.3 50

;------------------------------------------
Trigger georgiaAI
    WhenToTest FactionTurnStart

    Condition FactionType georgia
	and not FactionIsLocal

    FactionStanding factions { cumans } normalise 0.3 80
	
;------------------------------------------
Trigger georgiaBig
    WhenToTest FactionTurnStart

    Condition FactionType georgia
	and I_NumberOfSettlements georgia > 4
	and I_NumberOfSettlements georgia < 9
	
    FactionStanding factions { rum, zengid, turks } normalise -0.6 55
    FactionStanding factions { byzantium } normalise -0.4 50

;------------------------------------------
Trigger georgiaHuge
    WhenToTest FactionTurnStart

    Condition FactionType georgia
	and I_NumberOfSettlements georgia > 8

    FactionStanding factions { rum, zengid, turks } normalise -0.8 20
    FactionStanding factions { byzantium } normalise -0.6 40
    FactionStanding factions { cumans, jerusalem, egypt, kievan_rus, russia, abbasid } normalise -0.6 65
    FactionStanding exclude_factions { slave } normalise -0.8 100

;------------------------------------------
Trigger georgiaCrushed
    WhenToTest FactionTurnStart

    Condition FactionType georgia
	and I_NumberOfSettlements georgia < 2

    FactionStanding factions { rum, zengid } normalise 0.4 10
    FactionStanding factions { byzantium, turks } normalise 0.2 35
    FactionStanding factions { cumans, jerusalem, egypt, kievan_rus, russia, abbasid } normalise 0.2 40
    
;------------------------------------------
Trigger Jerusalem
    WhenToTest FactionTurnStart

    Condition FactionType jerusalem

    FactionStanding factions { egypt } normalise -0.6 40
    FactionStanding factions { rum, byzantium } normalise -0.3 50
    FactionStanding factions { papal_states } normalise 0.4 30
	FactionStanding factions { venice, pisa, sicily } normalise 0.2 100
    FactionStanding factions { england, france, hre } normalise 0.2 140   
    
;------------------------------------------
Trigger JerusalemAI
    WhenToTest FactionTurnStart

    Condition FactionType jerusalem
	and not FactionIsLocal

    FactionStanding factions { venice, pisa, sicily } normalise 0.2 100
    FactionStanding factions { england, france, hre } normalise 0.2 140   
    
;------------------------------------------
Trigger JerusalemBig
    WhenToTest FactionTurnStart

    Condition FactionType jerusalem
	and I_NumberOfSettlements jerusalem > 6
	and I_NumberOfSettlements jerusalem < 11
    FactionStanding factions { egypt, zengid } normalise -0.6 55
    FactionStanding factions { byzantium, rum } normalise -0.4 50      
    FactionStanding factions { papal_states } normalise 0.4 40 
    
;------------------------------------------
Trigger JerusalemHuge
    WhenToTest FactionTurnStart

    Condition FactionType jerusalem
	and I_NumberOfSettlements jerusalem > 10

    FactionStanding factions { egypt, zengid, abbasid, turks, moors } normalise -0.8 20
    FactionStanding factions { byzantium, rum } normalise -0.6 40
    FactionStanding factions { georgia, cumans, venice, pisa } normalise -0.6 65
    FactionStanding factions { papal_states } normalise 0.6 40        
    FactionStanding exclude_factions { slave } normalise -0.8 100
    
;------------------------------------------
Trigger JerusalemCrushed
    WhenToTest FactionTurnStart

    Condition FactionType jerusalem
	and I_NumberOfSettlements jerusalem < 2

    FactionStanding factions { egypt, zengid } normalise 0.4 10
    FactionStanding factions { byzantium, rum } normalise 0.2 35
    FactionStanding factions { georgia, cumans, venice, pisa, abbasid, turks, moors } normalise 0.2 40
    FactionStanding factions { papal_states } normalise -0.5 60   
    
    
    
;--------------------spain----------------------
Trigger moorsCordoba
    WhenToTest FactionTurnStart

    Condition FactionType moors
	and I_SettlementOwner Cordoba = moors

    FactionStanding factions { spain } normalise -0.8 50
    
;------------------------------------------
Trigger moorsCordoba2
    WhenToTest FactionTurnStart

    Condition FactionType france
	and I_SettlementOwner Cordoba = moors

    FactionStanding factions { spain } normalise 0.0 50
    
;------------------------------------------
Trigger moorsValencia
    WhenToTest FactionTurnStart

    Condition FactionType moors
	and I_SettlementOwner Valencia = moors

    FactionStanding factions { aragon } normalise -0.8 50
    
;------------------------------------------
Trigger moorsToledo
    WhenToTest FactionTurnStart

    Condition FactionType spain
	and I_SettlementOwner Toledo = moors

    FactionStanding factions { moors } normalise 0.0 50
    
;------------------------------------------
Trigger moorsToledo2
    WhenToTest FactionTurnStart

    Condition FactionType portugal
	and I_SettlementOwner Toledo = moors

    FactionStanding factions { moors } normalise 0.0 50   
    
;------------------------------------------
Trigger moorsCoimbra
    WhenToTest FactionTurnStart

    Condition FactionType portugal
	and I_SettlementOwner Coimbra = moors

    FactionStanding factions { moors } normalise 0.2 50

    
;------------------------------------------
Trigger ReconquistaSuccess
    WhenToTest FactionTurnStart

    Condition FactionType moors
  and not I_SettlementOwner Cordoba = moors
  and not I_SettlementOwner Murcia = moors
  and not I_SettlementOwner Valencia = moors

    FactionStanding factions { aragon, spain, portugal } normalise 0.0 75 
                
;------------------------------------------
Trigger ReconquistaDone
    WhenToTest FactionTurnStart

    Condition FactionType moors
	and not I_SettlementOwner Sevilla = moors
  and not I_SettlementOwner Cordoba = moors
  and not I_SettlementOwner Murcia = moors
  and not I_SettlementOwner Valencia = moors
  and not I_SettlementOwner Granada = moors

    FactionStanding factions { spain, portugal, aragon } normalise 0.0 50 
               
;------------------------------------------
Trigger spainGranada
    WhenToTest FactionTurnStart

    Condition FactionType spain
	and I_SettlementOwner Granada = spain
  and I_TurnNumber < 250

    FactionStanding factions { moors } normalise -0.8 75 
    
;------------------------------------------
Trigger aragonGranada
    WhenToTest FactionTurnStart

    Condition FactionType aragon
	and I_SettlementOwner Granada = aragon
  and I_TurnNumber < 250

    FactionStanding factions { moors } normalise -0.8 75 
;------------------------------------------
Trigger portugalGranada
    WhenToTest FactionTurnStart

    Condition FactionType portugal
	and I_SettlementOwner Granada = portugal
  and I_TurnNumber < 250

    FactionStanding factions { moors } normalise -0.8 75

    
;---------Capturing of Holy Places---------------      
;------------------------------------------
Trigger JerusalemCaptured1
    WhenToTest GeneralCaptureSettlement 

    Condition TargetSettlementName Jerusalem
    and not CharacterReligion catholic   
     
      FactionStanding factions { papal_states, scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } -0.1
      FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.05
      FactionStanding factions { rum, turks, zengid, abbasid, egypt, moors } 0.1
      
;------------------------------------------
Trigger JerusalemCaptured2
    WhenToTest GeneralCaptureSettlement 

    Condition TargetSettlementName Jerusalem
    and not CharacterReligion islam  
        
      FactionStanding factions { papal_states, scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.1
      FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.05
      FactionStanding factions { rum, turks, zengid, abbasid, egypt, moors } -0.1
      
;------------------------------------------
Trigger RomeCaptured
    WhenToTest GeneralCaptureSettlement 

    Condition TargetSettlementName Rome   
    and not CharacterReligion catholic 
    
      FactionStanding factions { papal_states, scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } -0.25
      FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.1
      FactionStanding factions { rum, turks, zengid, abbasid, egypt, moors } 0.1
;------------------------------------------
Trigger MeccaCaptured
    WhenToTest GeneralCaptureSettlement 

    Condition TargetSettlementName Mecca  
    and not CharacterReligion islam 
    
      FactionStanding factions { papal_states, scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.2
      FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.1
      FactionStanding factions { rum, turks, zengid, abbasid, egypt, moors } -0.25
      
;------------------------------------------
Trigger ConstantinopleCaptured
    WhenToTest GeneralCaptureSettlement 

    Condition TargetSettlementName Constantinople 
    and not CharacterReligion orthodox
    
      FactionStanding factions { papal_states, scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } -0.1
      FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.25
      FactionStanding factions { rum, turks, zengid, abbasid, egypt, moors } 0.2


;######################################################################### 
;##########         TRANSGRESSIONS         ###############################
;#########################################################################
 
 
;=========== AGAINST CATHOLICS =================
;------------------------------------------
Trigger 0100_T_Invaded_Settlement
    WhenToTest Transgression

    Condition TransgressionName = TC_INVADED_SETTLEMENT
		and TargetFactionReligion catholic
		and not TargetFactionExcommunicated

    FactionStanding factions { papal_states } -0.025

;------------------------------------------
Trigger 0101_T_Invaded_Fort
    WhenToTest Transgression

    Condition TransgressionName = TC_INVADED_FORT
		and TargetFactionReligion catholic
		and not TargetFactionExcommunicated

    FactionStanding factions { papal_states } -0.015

;------------------------------------------
;Trigger 0102_T_Invaded_Watchtower
;    WhenToTest Transgression
;
;    Condition TransgressionName = TC_INVADED_WATCHTOWER
;		and TargetFactionReligion catholic
;		and not TargetFactionExcommunicated
;
;    FactionStanding factions { papal_states } -0.005

;------------------------------------------
;Declaring war by faction on faction that is not excommunicated 
Trigger 0103_T_Declared_War
    WhenToTest FactionWarDeclared 

    Condition TargetFactionReligion catholic
		and not TargetFactionExcommunicated

    FactionStanding factions { papal_states } -0.1

;------------------------------------------
Trigger 0104_T_Instigate_Siege
    WhenToTest Transgression

    Condition TransgressionName = TC_INSTIGATE_SIEGE
		and TargetFactionReligion catholic
		and not TargetFactionExcommunicated

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0105_T_Threaten_War
    WhenToTest Transgression

    Condition TransgressionName = TC_THREATEN_WAR
		and TargetFactionReligion catholic
		and not TargetFactionExcommunicated

    FactionStanding factions { papal_states } -0.01

;------------------------------------------
Trigger 0106_T_Undeclared_Attack
    WhenToTest Transgression

    Condition TransgressionName = TC_UNDECLARED_ATTACK
		and TargetFactionReligion catholic
		and not TargetFactionExcommunicated
		and not FactionType slave

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0107_T_INSTIGATE_ASSAULT
    WhenToTest Transgression

    Condition TransgressionName = TC_INSTIGATE_ASSAULT
		and TargetFactionReligion catholic
		and not TargetFactionExcommunicated

    FactionStanding factions { papal_states } -0.025

;------------------------------------------
Trigger 0108_T_BLOCKADE
    WhenToTest Transgression

    Condition TransgressionName = TC_BLOCKADE
		and TargetFactionReligion catholic
		and not TargetFactionExcommunicated

    FactionStanding factions { papal_states } -0.01

;------------------------------------------
Trigger 0101_sack_settlement_decrease_papal
    WhenToTest SackSettlement
    
    Condition TargetFactionReligion catholic
		and not TargetFactionExcommunicated
    
    FactionStanding factions { papal_states } -0.15

;------------------------------------------
Trigger 0102_extermination_decrease_papal
    WhenToTest ExterminatePopulation

    Condition TargetFactionReligion catholic
		and not TargetFactionExcommunicated
    
    FactionStanding factions { papal_states } -0.25

;------------------------------------------
Trigger 0103_occupy_settlement_increase_papal
    WhenToTest OccupySettlement

    Condition TargetFactionReligion catholic
		and TargetFactionExcommunicated
    
    FactionStanding factions { papal_states } 0.05
	
;================== GENERAL ====================
;------------------------------------------
;There are specific triggers for the jihad and crusade
;Trigger 0049_T_Attacking_Crusading_General
;    WhenToTest Transgression
;
;    Condition TransgressionName = TC_ATTACKING_CRUSADING_GENERAL
;    FactionStanding target_religion -0.1 

;------------------------------------------
;----No Forts in SSHIP---------------------
;
;Trigger 0050_T_Invaded_Fort
;   WhenToTest Transgression
;
;    Condition TransgressionName = TC_INVADED_FORT
;	   and not TargetFactionType slave
;     and not TargetFactionType mongols
;
;    FactionStanding target_faction normalise -1.0 50
;    FactionStanding target_allies normalise -1.0 100
;    FactionStanding target_enemies normalise 1.0 100
;
;------------------------------------------
Trigger 0051_T_Stole_Back_Settlement
    WhenToTest Transgression

    Condition TransgressionName = TC_STOLE_BACK_SETTLEMENT
		and not TargetFactionType slave

    FactionStanding global -0.25
    FactionStanding target_faction normalise -1.0 10
    FactionStanding target_allies normalise -1.0 40
    FactionStanding target_enemies normalise 1.0 100
    FactionStanding exclude_factions { slave } normalise -0.8 50

;------------------------------------------
Trigger 0052_T_Invaded_Settlement
    WhenToTest Transgression

    Condition TransgressionName = TC_INVADED_SETTLEMENT
	   and not TargetFactionType slave
     and not TargetFactionType mongols

    FactionStanding global -0.025
    FactionStanding target_faction normalise -1.0 30
    FactionStanding target_allies normalise -1.0 75
    FactionStanding target_enemies normalise 1.0 75
    FactionStanding exclude_factions { slave } normalise -0.6 50

;------------------------------------------
;Trigger 0052_T_Invaded_Settlement_Rebels
;    WhenToTest Transgression
;
;   Condition TransgressionName = TC_INVADED_SETTLEMENT
;	 and TargetFactionType slave
;
;    FactionStanding global -0.01
;    
;------------------------------------------
;Trigger 0053_T_Invaded_Watchtower
;    WhenToTest Transgression
;
;    Condition TransgressionName = TC_INVADED_WATCHTOWER
;	   and not TargetFactionType slave
;     and not TargetFactionType mongols
;
 ;   FactionStanding target_faction normalise -1.0 100
 ;   FactionStanding target_allies normalise -1.0 250
 ;   FactionStanding target_enemies normalise 1.0 300

;========================================================== NEUTRAL AI INVASION
Trigger 0055_T_Invasion_Neutral_AI
	WhenToTest Transgression
	Condition TransgressionName = TC_INVASION
		and DiplomaticStanceFactions = Neutral
		and not DiplomaticStanceFactions = Allied
		and not FactionIsLocal
		and not TargetFactionType slave
		and not TargetFactionType mongols
		and not TargetFactionType jerusalem				; KoJ is not invaded
		and not FactionType jerusalem					; KoJ is not invading
	FactionStanding target_faction normalise -1.0 100


Trigger 0055_T_Invasion_Neutral_AI_KoJ_defend
	WhenToTest Transgression
	Condition TransgressionName = TC_INVASION
		and DiplomaticStanceFactions = Neutral
		and not DiplomaticStanceFactions = Allied
		and not FactionIsLocal
		and TargetFactionType jerusalem					; KoJ is invaded
		and not FactionReligion catholic				; but not by a catholic
	FactionStanding target_faction normalise -1.0 100


Trigger 0055_T_Invasion_Neutral_AI_KoJ_attack
	WhenToTest Transgression
	Condition TransgressionName = TC_INVASION
		and DiplomaticStanceFactions = Neutral
		and not DiplomaticStanceFactions = Allied
		and not FactionIsLocal
		and FactionType jerusalem						; KoJ invades
		and not TargetFactionReligion catholic			; but not a catholic
	FactionStanding target_faction normalise -1.0 100

;========================================================	HUMAN WAGING WAR (invasion) IN ENEMY TERRITORY
Trigger 0055_T_Invasion_War_Player
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
		and DiplomaticStanceFactions = AtWar
        and FactionIsLocal
        and not TargetFactionType slave
    FactionStanding target_faction normalise -1.0 50
    FactionStanding global -0.001 
;========================================================	NEUTRAL PLAYER INVASION
Trigger 0055_T_Invasion_Neutral_Player
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
		and DiplomaticStanceFactions = Neutral
        and not DiplomaticStanceFactions = Allied
        and FactionIsLocal
        and not TargetFactionType slave
        and not TargetFactionType jerusalem
    FactionStanding target_faction normalise -1.0 50

    
Trigger 0055_T_Invasion_Neutral_Player_KoJ_defend
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
		and DiplomaticStanceFactions = Neutral
        and not DiplomaticStanceFactions = Allied
        and FactionIsLocal
        and not TargetFactionType slave
		and TargetFactionType jerusalem
		and not FactionReligion catholic
    FactionStanding target_faction normalise -1.0 50

	
Trigger 0055_T_Invasion_Neutral_Player_KoJ_attack
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
		and DiplomaticStanceFactions = Neutral
        and not DiplomaticStanceFactions = Allied
        and FactionIsLocal
        and not TargetFactionType slave
		and FactionType jerusalem
		and not TargetFactionReligion catholic
    FactionStanding target_faction normalise -1.0 50

    
;=======================================================	ALLY AI INVASION
; AI walks into other territory

Trigger 0055a_T_Invasion_Allied_AI
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
        and DiplomaticStanceFactions = Allied 
        and not FactionIsLocal
		and not FactionType jerusalem
		and not TargetFactionType jerusalem
    FactionStanding target_faction normalise -0.4 150
    
Trigger 0055a_T_Invasion_Allied_AI_KoJ_defend
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
        and DiplomaticStanceFactions = Allied 
        and not FactionIsLocal
		and TargetFactionType jerusalem
		and not FactionReligion catholic
    FactionStanding target_faction normalise -0.4 150
    
Trigger 0055a_T_Invasion_Allied_AI_KoJ_attack
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
        and DiplomaticStanceFactions = Allied 
        and not FactionIsLocal
		and FactionType jerusalem
		and not TargetFactionReligion catholic
    FactionStanding target_faction normalise -0.4 150
    
;=======================================================	ALLY PLAYER INVASION
	
Trigger 0055a_T_Invasion_Allied_Player
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
        and DiplomaticStanceFactions = Allied 
        and FactionIsLocal
		and not FactionType jerusalem
		and not TargetFactionType jerusalem
    FactionStanding target_faction normalise -0.8 150
    FactionStanding global -0.001
    
Trigger 0055a_T_Invasion_Allied_Player_KoJ_defend
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
        and DiplomaticStanceFactions = Allied 
        and FactionIsLocal
		and TargetFactionType jerusalem
		and not FactionReligion catholic
    FactionStanding target_faction normalise -0.8 150
    FactionStanding global -0.001
    
Trigger 0055a_T_Invasion_Allied_Player_KoJ_attack
    WhenToTest Transgression
    Condition TransgressionName = TC_INVASION
        and DiplomaticStanceFactions = Allied 
        and FactionIsLocal
		and FactionType jerusalem
		and not TargetFactionReligion catholic
    FactionStanding target_faction normalise -0.8 150
    FactionStanding global -0.001
    

;===================================================	FLEEING ARMIES
Trigger 0055b_T_Invasion_Flee
    WhenToTest Transgression
    Condition TransgressionName = TC_FLEE_INVASION
		and not FactionType jerusalem
		and not TargetFactionType jerusalem
    FactionStanding target_faction normalise -1.0 200

Trigger 0055b_T_Invasion_Flee_KoJ_defend
    WhenToTest Transgression
    Condition TransgressionName = TC_FLEE_INVASION
		and TargetFactionType jerusalem
		and not FactionReligion catholic
    FactionStanding target_faction normalise -1.0 200

Trigger 0055b_T_Invasion_Flee_KoJ_attack
    WhenToTest Transgression
    Condition TransgressionName = TC_FLEE_INVASION
		and FactionType jerusalem
		and not TargetFactionReligion catholic
    FactionStanding target_faction normalise -1.0 200

;------------------------------------------
Trigger 0055c_T_Invasion_Crusade
    WhenToTest Transgression

    Condition TransgressionName = TC_CRUSADE_INVASION
	and FactionReligion catholic
	and not TargetFactionReligion catholic
	and not TargetFactionReligion orthodox
	and not IsCrusadeTargetFaction

    FactionStanding target_faction normalise -0.5 100
    FactionStanding target_religion normalise -0.5 200

;------------------------------------------
Trigger 0055d_T_Invasion_Jihad
    WhenToTest Transgression

    Condition TransgressionName = TC_CRUSADE_INVASION
	and FactionReligion islam
	and not TargetFactionReligion islam
	and not IsCrusadeTargetFaction

    FactionStanding target_faction normalise -0.5 100
    FactionStanding target_religion normalise -0.5 200

;------------------------------------------
;When allience cancelled by diplomacy 
Trigger 0056_T_Nullified_Alliance
    WhenToTest Transgression

    Condition TransgressionName = TC_NULLIFIED_ALLIANCE

    FactionStanding global -0.01
    FactionStanding target_faction normalise -0.4 25
    FactionStanding target_allies normalise -0.3 100
    FactionStanding target_enemies normalise 0.4 100

;------------------------------------------
;When treaty broken by diplomacy, cumulative with nullified alliance
Trigger 0057_T_Broke_Treaty_terms
    WhenToTest Transgression

    Condition TransgressionName = TC_BROKE_TREATY_TERMS

    FactionStanding global -0.01
    FactionStanding target_faction normalise -1.0 15
	FactionStanding target_allies normalise -1.0 50

;------------------------------------------
; fired for every 1000 gold diplomacy proposal under balanced - 1
;Trigger 0058_T_Diplomatic_Insult
;    WhenToTest Transgression
;
;    Condition TransgressionName = TC_DIPLOMATIC_INSULT
;
;    FactionStanding target_faction -0.001

;------------------------------------------
Trigger 0059_T_Dishonour
    WhenToTest Transgression

    Condition TransgressionName = TC_DISHONOUR

    FactionStanding target_faction normalise -0.8 50
    FactionStanding target_allies normalise -0.8 75

;------------------------------------------
;-AI declares war on human --------
; Its regulated by aggressor script, otherwise it punishes the attacked.

Trigger 0060_T_Declared_War_AI_NotAI
    WhenToTest FactionWarDeclared 

    Condition not FactionIsLocal
    and TargetFactionIsLocal
    and not FactionType papal_states

    FactionStanding target_faction -0.4 
    FactionStanding target_allies -0.1
    FactionStanding target_enemies 0.1

;------------------------------------------
Trigger 0060_T_Declared_War_AI_AI_Simulate_Peace
    WhenToTest FactionWarDeclared 

    Condition not FactionIsLocal
    and not TargetFactionIsLocal
    and not FactionType papal_states
    and not I_CrusadeInProgress

    FactionStanding global -0.04
    FactionStanding target_faction -0.4
    FactionStanding target_allies normalise -1.0 10
    FactionStanding target_enemies normalise 1.0 10
    FactionStanding exclude_factions { slave } normalise -0.4 50
    
;------------------------------------------
Trigger 0084b_Update_Enemies_AI_Simulate_Peace
    WhenToTest UpdateAttitude

    Condition DiplomaticStanceFactions = AtWar
    and not FactionType slave
    and not FactionIsLocal
    and not TargetFactionIsLocal
    and not I_CrusadeInProgress 

    FactionStanding enemies normalise -0.2 10


; Make allies of our allies like us a bit more 
       
;------------------------------------------
; Triggers when declaring war and human is involved- bug 
; thats why aggressor script, only relations suffer, no rep

Trigger 0060_T_Declared_War_Human
    WhenToTest FactionWarDeclared 
    Condition FactionIsLocal
    and not FactionType papal_states

    FactionStanding target_faction normalise -1.0 20
    FactionStanding target_allies normalise -1.0 40
    FactionStanding target_enemies normalise 1.0 100
    FactionStanding exclude_factions { slave } normalise -0.6 50
    
;------------------------------------------
Trigger 0060_T_Declared_War_Pope_Excomm
    WhenToTest FactionWarDeclared 

    Condition FactionType papal_states
    and TargetFactionExcommunicated

    FactionStanding global 0.1
    FactionStanding target_faction normalise -1.0 25
    FactionStanding target_allies normalise -1.0 100
    FactionStanding target_enemies normalise 1.0 50
    
;------------------------------------------
Trigger 0060_T_Declared_War_Pope_Non_Excomm
    WhenToTest FactionWarDeclared 

    Condition FactionType papal_states
    and not TargetFactionExcommunicated

    FactionStanding global -0.2
    FactionStanding target_faction normalise -1.0 10
    FactionStanding target_allies normalise -1.0 40
    FactionStanding target_enemies normalise 1.0 50
    FactionStanding exclude_factions { slave, papal_states } normalise -0.8 50
            
;------------------------------------------
Trigger 0061_T_Major_Assassination_Attempt_Human
    WhenToTest Transgression

    Condition TransgressionName = TC_MAJOR_ASSASSINATION_ATTEMPT
    and FactionIsLocal

    FactionStanding global -0.0025
    FactionStanding target_faction normalise -1.0 3
    FactionStanding target_allies normalise -1.0 8
    FactionStanding target_enemies normalise 1.0 20
    
;------------------------------------------
Trigger 0061_T_Major_Assassination_Attempt_AI
    WhenToTest Transgression

    Condition TransgressionName = TC_MAJOR_ASSASSINATION_ATTEMPT
    and not FactionIsLocal

    FactionStanding global -0.0025
    FactionStanding target_faction normalise -1.0 30
    FactionStanding target_allies normalise -1.0 50
    FactionStanding target_enemies normalise 1.0 50
    FactionStanding exclude_factions { slave } normalise -0.4 50
;------------------------------------------
Trigger 0062_T_Minor_Assassination_Attempt_Human
    WhenToTest Transgression

    Condition TransgressionName = TC_MINOR_ASSASSINATION_ATTEMPT
     and not TargetFactionType slave
     and not TargetFactionType mongols
     and FactionIsLocal

    FactionStanding target_faction normalise -1.0 8
    FactionStanding target_allies normalise -1.0 20
;------------------------------------------
Trigger 0062_T_Minor_Assassination_Attempt_AI
    WhenToTest Transgression

    Condition TransgressionName = TC_MINOR_ASSASSINATION_ATTEMPT
     and not TargetFactionType slave
     and not TargetFactionType mongols
     and not FactionIsLocal

    FactionStanding target_faction normalise -1.0 30
    FactionStanding target_allies normalise -1.0 50
;------------------------------------------
Trigger 0063_T_Sabotage
    WhenToTest Transgression

    Condition TransgressionName = TC_SABOTAGE

    FactionStanding global -0.05
    FactionStanding target_faction normalise -0.7 10
    FactionStanding target_allies normalise -0.7 25

;------------------------------------------
Trigger 0064_T_Bribed_Away_Army
    WhenToTest Transgression

    Condition TransgressionName = TC_BRIBED_AWAY_ARMY
    and not TargetFactionType slave
     and not TargetFactionType mongols

    FactionStanding global -0.01
    FactionStanding target_faction normalise -1.0 100

;------------------------------------------
Trigger 0065_T_Bribed_Away_Character
    WhenToTest Transgression

    Condition TransgressionName = TC_BRIBED_AWAY_CHARACTER

    FactionStanding global -0.025
    FactionStanding target_faction normalise -1.0 40

;------------------------------------------
Trigger 0066_T_Bribed_Away_Settlement
    WhenToTest Transgression

    Condition TransgressionName = TC_BRIBED_AWAY_SETTLEMENT

    FactionStanding global -0.05
    FactionStanding target_faction normalise -1.0 20
    FactionStanding target_allies normalise -1.0 100

;------------------------------------------
Trigger 0067_T_Bribed_Away_Fort
    WhenToTest Transgression

    Condition TransgressionName = TC_BRIBED_AWAY_FORT

    FactionStanding target_faction normalise -1.0 50

;------------------------------------------
Trigger 0068_T_Battle_Engagement
    WhenToTest Transgression

    Condition TransgressionName = TC_BATTLE_ENGAGEMENT
        and not TargetFactionType slave

    FactionStanding target_faction normalise -1.0 120
    FactionStanding target_allies normalise -1.0 250
    FactionStanding target_enemies normalise 1.0 200

;------------------------------------------
;-- Problem that this one doesn't recognize who started the war, so its only for ai
;Trigger 0069_T_Instigate_Siege
;    WhenToTest Transgression
;    Condition TransgressionName = TC_INSTIGATE_SIEGE
;     and not TargetFactionType slave
;    and not TargetFactionType mongols
;	 and not FactionIsLocal
	 
;	FactionStanding global -0.05
;    FactionStanding target_faction normalise -1.0 100
;    FactionStanding target_allies normalise -1.0 200
;    FactionStanding exclude_factions { slave } normalise -0.4 100

;------------------------------------------
Trigger 0070_T_Spying
    WhenToTest Transgression

    Condition TransgressionName = TC_SPYING
     and not TargetFactionType slave
     and not TargetFactionType mongols

    FactionStanding target_faction normalise -1.0 100

;------------------------------------------
Trigger 0071_T_Threaten_War
    WhenToTest Transgression

    Condition TransgressionName = TC_THREATEN_WAR
    and FactionIsLocal

    FactionStanding global -0.005
    FactionStanding target_faction normalise -1.0 40

;------------------------------------------
; Regulated by aggresor script
Trigger 0072_T_Undeclared_Attack
    WhenToTest Transgression

    Condition TransgressionName = TC_UNDECLARED_ATTACK
		and not FactionType slave

    FactionStanding target_faction normalise -1.0 20
    FactionStanding target_allies normalise -0.8 100

;------------------------------------------
Trigger 0072_T_Undeclared_Attack_Withdraw
    WhenToTest Transgression

    Condition TransgressionName = TC_UNDECLARED_ATTACK_WITHDRAW

    FactionStanding target_faction normalise -0.6 15
    FactionStanding target_allies normalise -0.4 150

;------------------------------------------
Trigger 0073_T_INSTIGATE_ASSAULT
    WhenToTest Transgression

    Condition TransgressionName = TC_INSTIGATE_ASSAULT
    and not TargetFactionType slave

    FactionStanding global -0.005
    FactionStanding target_faction normalise -1.0 25
    FactionStanding target_allies normalise -1.0 100

;------------------------------------------
Trigger 0074_T_BLOCKADE
    WhenToTest Transgression

    Condition TransgressionName = TC_BLOCKADE

    FactionStanding target_faction normalise -1.0 75
    FactionStanding target_allies normalise -1.0 150  


;######################### DISHONEST TRANSGRESSIONS ############################

;------------------------------------------
;Breaking alliance through diplomacy
;Triggers also when choosing between allies starting a war with each other
Trigger 0078b_DT_Break_Alliance_Neutral
    WhenToTest Transgression

    Condition TransgressionName = TC_BROKE_ALLIANCE
        and DiplomaticStanceFactions = Neutral

    FactionStanding global -0.025

    FactionStanding target_faction normalise -0.25 5
    FactionStanding target_allies normalise -0.4 50

;------------------------------------------
;When attacking an ally 
;it affects only the aggressor 
Trigger 0078c_DT_Break_Alliance_War
    WhenToTest Transgression
    Condition TransgressionName = TC_BROKE_ALLIANCE
        and DiplomaticStanceFactions = AtWar
	;it was -0.15 before 
    FactionStanding global -0.1
	FactionStanding target_faction global 0.5
    FactionStanding target_faction normalise -1.0 10
    FactionStanding target_allies normalise -1.0 50


;######################################################################### 
;##########         AI RELATIONSHIPS         #############################
;#########################################################################


; Make allied factions like us a bit more
;------------------------------------------
Trigger 0083b_Update_Allies
    WhenToTest FactionTurnStart
	Condition not FactionType slave
    FactionStanding allies normalise 1.0 60

; It is necessary to normalize so peace is possible
; The idea is that when the war starts - standing immediately goes down, but normalize with time
;------------------------------------------
Trigger 0084b_Update_Enemies
    WhenToTest FactionTurnStart
    Condition not FactionType slave
    FactionStanding enemies normalise 0.0 60

; Make enemy factions friends like us a bit less
;------------------------------------------
Trigger 0083c_Update_Allies_Allies
    WhenToTest UpdateAttitude
    Condition not FactionType slave
		and DiplomaticStanceFactions = Allied
    FactionStanding target_allies normalise -0.2 50


; Make enemies of our allies like us a bit less
;------------------------------------------
Trigger 0084c_Update_Allies_Enemies
    WhenToTest UpdateAttitude
    Condition not FactionType slave
		and DiplomaticStanceFactions = Allied
    FactionStanding target_enemies normalise -0.4 50


; Make allies of our enemies like us a bit less
;------------------------------------------
Trigger 0083d_Update_Enemies_Allies
    WhenToTest UpdateAttitude
    Condition not FactionType slave
		and DiplomaticStanceFactions = AtWar
    FactionStanding target_allies normalise -0.8 80


; Make enemies of our enemies like us a bit more
;------------------------------------------
Trigger 0084d_Update_Enemies_Enemies
    WhenToTest UpdateAttitude
    Condition not TargetFactionType slave
		and DiplomaticStanceFactions = AtWar
    FactionStanding target_enemies normalise 0.8 100


; Make other Catholic factions like the pope a bit more
;------------------------------------------
Trigger 0084_Update_Papal
    WhenToTest FactionTurnStart
    Condition FactionType papal_states
    FactionStanding own_religion normalise 1.0 50


; Make other factions like factions of the same religion a bit more
;------------------------------------------
Trigger 0085_Update_Religion
    WhenToTest FactionTurnStart
    Condition not FactionType slave
    FactionStanding own_religion normalise 0.2 50


; Make factions get a case of the 'tall poppy' syndrome.  get narky about the larger factions
; Test the factions score against the leading faction as a percentage
;------------------------------------------
Trigger 0086_Update_Tall_Poppy1
;In the beggining of campaign only Moors qualifies here
    WhenToTest FactionTurnStart
    Condition FactionHasRank
        and FactionScorePercent overall > 80
        and FactionScoreRank overall <= 1
    FactionStanding exclude_factions { slave } normalise -0.5 40

;------------------------------------------
Trigger 0087_Update_Tall_Poppy2
;In the beggining of campaign, only Byz, Turks, Moors qualifies here
    WhenToTest FactionTurnStart
    Condition FactionHasRank
        and FactionScorePercent overall > 70
        and FactionScoreRank overall <= 3
    FactionStanding exclude_factions { slave } normalise -0.5 60

;------------------------------------------
;In the beggining of campaign, only Byz, Egypt, Turks, Moors and HRE qualifies here
Trigger 0088_Update_Tall_Poppy3
    WhenToTest FactionTurnStart
    Condition FactionHasRank
        and FactionScorePercent overall > 50
        and FactionScoreRank overall <= 5
    FactionStanding exclude_factions { slave } normalise -0.5 80
;------------------------------------------
;Standing rapidly decrease when human becomes strong
;Gets to 50% strongest and in first 5 factions
;Reputation reliable and above prevents 

Trigger 0088_Update_Tall_Poppy4
    WhenToTest FactionTurnStart
    Condition FactionHasRank
		and FactionScorePercent overall > 50
        and FactionScoreRank overall <= 5
		and FactionIsLocal
		and CampaignDifficulty = very_hard
		and I_TurnNumber > 10
		and GlobalStanding < 0.6
		
    FactionStanding exclude_factions { slave, papal_states } normalise -1.0 10
	
;------------------------------------------
;Standing rapidly decrease when human becomes very strong
;Gets to 67% of the strongest and in first 3 factions
;Has to have really good reputation (above very reliable) not to be seen as the worst threat

Trigger 0088_Update_Tall_Poppy5
    WhenToTest FactionTurnStart
    Condition FactionHasRank
		and CampaignDifficulty = very_hard
        and FactionScorePercent overall > 67
        and FactionScoreRank overall <= 3
		and FactionIsLocal
		and I_TurnNumber > 10
		and GlobalStanding < 0.8
    FactionStanding exclude_factions { slave, papal_states } normalise -1.0 10
	
	
	
; Make factions try and band up with smaller factions
;------------------------------------------
Trigger 0089_Update_Band_Together1
    WhenToTest FactionTurnStart
    Condition FactionHasRank
        and FactionScorePercent overall < 30
        and FactionScoreRank overall > 10
		and not FactionIsLocal
		and GlobalStanding > 0.0
    FactionStanding exclude_factions { slave } normalise 0.8 125

;------------------------------------------
Trigger 0090_Update_Band_Together2
    WhenToTest FactionTurnStart
    Condition FactionHasRank
        and FactionScorePercent overall < 20
        and FactionScoreRank overall > 15
		and not FactionIsLocal
    FactionStanding exclude_factions { slave } normalise 0.8 100

;------------------------------------------
Trigger 0090_Update_Band_Together2a
    WhenToTest FactionTurnStart
    Condition FactionHasRank
        and FactionScorePercent overall < 20
        and FactionScoreRank overall > 15
		and not FactionIsLocal
		and GlobalStanding > 0.1
	FactionStanding global normalise 0.8 50

;------------------------------------------
Trigger 0091_Update_BandTogether3
    WhenToTest FactionTurnStart
    Condition FactionHasRank
        and FactionScorePercent overall < 10
        and FactionScoreRank overall > 20
		and not FactionIsLocal
    FactionStanding exclude_factions { slave } normalise 0.8 70
	
;------------------------------------------
Trigger 0091_Update_BandTogether3a
    WhenToTest FactionTurnStart
    Condition FactionHasRank
        and FactionScorePercent overall < 10
        and FactionScoreRank overall > 20
		and not FactionIsLocal
		and GlobalStanding > 0.4
    FactionStanding global normalise 0.8 50

;------------------------------------------
;Having many allies increases significantly the reputation 
Trigger 0097_Increase_Global_Standing_When_Allied
    WhenToTest UpdateAttitude
    Condition not FactionType slave
		and DiplomaticStanceFactions = Allied
		and GlobalStanding < 0.2

    FactionStanding global normalise 0.2 150

;------------------------------------------
;Trigger 0098_Decrease_Global_Standing_When_War
;    WhenToTest UpdateAttitude
;
;    Condition DiplomaticStanceFactions = AtWar
;        and not TargetFactionType slave
;
;    FactionStanding global normalise -0.6 75
;
;================================================================================
;These triggers below cooperate with CS Tracking aggressor script. 
;There is an EventCounter that triggers in CS WHILE STARTING A WAR
;The agressor receives a rep penalty.
;In the future an additional penalty maybe added for each turn of waging war
;The aggressor script in CS has to set I_EventCounter =1 before the triggers below starts,
;that's why TransgressionName = TC_INSTIGATE_SIEGE or TC_UNDECLARED_ATTACK
;- they set off after a war declaration, and give time for CS to set off first.
;First trigger for attacking an army, second for attacking a settlement.
;================================================================================

Trigger Decrease_Global_Aggvenice
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType venice
		and I_EventCounter aggvenice > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggvenice_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType venice
		and I_EventCounter aggvenice > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggsicily
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType sicily
		and I_EventCounter aggsicily > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggsicily_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType sicily
		and I_EventCounter aggsicily > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8   
;------------------------------------------------
Trigger Decrease_Global_Aggabbasid
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType abbasid
		and I_EventCounter aggabbasid > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggabbasid_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType abbasid
		and I_EventCounter aggabbasid > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggdenmark
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType denmark
		and I_EventCounter aggdenmark > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggdenmark_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType denmark
		and I_EventCounter aggdenmark > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8   
;------------------------------------------------
Trigger Decrease_Global_Aggegypt
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType egypt
		and I_EventCounter aggegypt > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggegypt_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType egypt
		and I_EventCounter aggegypt > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggscotland
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType scotland
		and I_EventCounter aggscotland > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggscotland_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType scotland
		and I_EventCounter aggscotland > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggcumans
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType cumans
		and I_EventCounter aggcumans > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggcumans_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType cumans
		and I_EventCounter aggcumans > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggturks
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType turks
		and I_EventCounter aggturks > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggturks_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType turks
		and I_EventCounter aggturks > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggfrance
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType france
		and I_EventCounter aggfrance > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggfrance_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType france
		and I_EventCounter aggfrance > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Agghre
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType hre
		and I_EventCounter agghre > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Agghre_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType hre
		and I_EventCounter agghre > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggengland
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType england
		and I_EventCounter aggengland > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggengland_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType england
		and I_EventCounter aggengland > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggportugal
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType portugal
		and I_EventCounter aggportugal > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggportugal_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType portugal
		and I_EventCounter aggportugal > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggpoland
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType poland
		and I_EventCounter aggpoland > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggpoland_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType poland
		and I_EventCounter aggpoland > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggbyzantium
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType byzantium
		and I_EventCounter aggbyzantium > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggbyzantium_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType byzantium
		and I_EventCounter aggbyzantium > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggmoors
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType moors
		and I_EventCounter aggmoors > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggmoors_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType moors
		and I_EventCounter aggmoors > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggrussia
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType russia
		and I_EventCounter aggrussia > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggrussia_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType russia
		and I_EventCounter aggrussia > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggspain
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType spain
		and I_EventCounter aggspain > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggspain_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType spain
		and I_EventCounter aggspain > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Agghungary
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType hungary
		and I_EventCounter agghungary > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Agghungary_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType hungary
		and I_EventCounter agghungary > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggaragon
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType aragon
		and I_EventCounter aggaragon > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggaragon_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType aragon
		and I_EventCounter aggaragon > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Agglithuania
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType lithuania
		and I_EventCounter agglithuania > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Agglithuania_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType lithuania
		and I_EventCounter agglithuania > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggkievan_rus
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType kievan_rus
		and I_EventCounter aggkievan_rus > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggkievan_rus_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType kievan_rus
		and I_EventCounter aggkievan_rus > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggserbia
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType serbia
		and I_EventCounter aggserbia > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggserbia_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType serbia
		and I_EventCounter aggserbia > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Agggeorgia
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType georgia
		and I_EventCounter agggeorgia > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Agggeorgia_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType georgia
		and I_EventCounter agggeorgia > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggnorway
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType norway
		and I_EventCounter aggnorway > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggnorway_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType norway
		and I_EventCounter aggnorway > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggjerusalem
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK
		and FactionType jerusalem
		and I_EventCounter aggjerusalem > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggjerusalem_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType jerusalem
		and I_EventCounter aggjerusalem > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggzengid
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType zengid
		and I_EventCounter aggzengid > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggzengid_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType zengid
		and I_EventCounter aggzengid > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggrum
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType rum
		and I_EventCounter aggrum > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggrum_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType rum
		and I_EventCounter aggrum > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggpisa
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType pisa
		and I_EventCounter aggpisa > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggpisa_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType pisa
		and I_EventCounter aggpisa > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
Trigger Decrease_Global_Aggpapal_states
    WhenToTest Transgression
	Condition TransgressionName = TC_UNDECLARED_ATTACK 
		and FactionType papal_states
		and I_EventCounter aggpapal_states > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.15
   
   Trigger Decrease_Global_Aggpapal_states_Siege
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType papal_states
		and I_EventCounter aggpapal_states > 0
		and GlobalStanding > -0.7
		and FactionIsLocal
   FactionStanding global  -0.25
   FactionStanding target_faction -1.0
   FactionStanding target_allies -0.8
;------------------------------------------------
   
;This is the old entry for Aggressor Tracking Script
;cooperates with CS Tracking aggressor script. 
;The leader receives an aggressor trait when starting a war which causes the event aggressor 
;which lowers his reputation every turn the war is waging - macaras
;
;Trigger Decrease_Global_Standing
;    WhenToTest FactionTurnStart
;   Condition not FactionType slave
;		and I_EventCounter aggressor > 0
;		and GlobalStanding > -0.6
;		FactionStanding global normalise -0.6 150 
; This is not working properly in later game. 

;========================================================
;Rep penalty for sneak siege attack = starting a war by AI
;------------------------------------------------------- 
   Trigger Decrease_Global_Aggvenice_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType venice
		and I_EventCounter aggvenice > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3 
   
   Trigger Decrease_Global_Aggsicily_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType sicily
		and I_EventCounter aggsicily > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggabbasid_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType abbasid
		and I_EventCounter aggabbasid > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggdenmark_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType denmark
		and I_EventCounter aggdenmark > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggegypt_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType egypt
		and I_EventCounter aggegypt > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggscotland_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType scotland
		and I_EventCounter aggscotland > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggcumans_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType cumans
		and I_EventCounter aggcumans > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggturks_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType turks
		and I_EventCounter aggturks > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggfrance_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType france
		and I_EventCounter aggfrance > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Agghre_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType hre
		and I_EventCounter agghre > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggengland_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType england
		and I_EventCounter aggengland > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggportugal_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType portugal
		and I_EventCounter aggportugal > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggpoland_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType poland
		and I_EventCounter aggpoland > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggbyzantium_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType byzantium
		and I_EventCounter aggbyzantium > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggmoors_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType moors
		and I_EventCounter aggmoors > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggrussia_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType russia
		and I_EventCounter aggrussia > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggspain_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType spain
		and I_EventCounter aggspain > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Agghungary_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType hungary
		and I_EventCounter agghungary > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggaragon_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType aragon
		and I_EventCounter aggaragon > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Agglithuania_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType lithuania
		and I_EventCounter agglithuania > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggkievan_rus_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType kievan_rus
		and I_EventCounter aggkievan_rus > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggserbia_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType serbia
		and I_EventCounter aggserbia > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Agggeorgia_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType georgia
		and I_EventCounter agggeorgia > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggnorway_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType norway
		and I_EventCounter aggnorway > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggjerusalem_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType jerusalem
		and I_EventCounter aggjerusalem > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggzengid_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType zengid
		and I_EventCounter aggzengid > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggrum_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType rum
		and I_EventCounter aggrum > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
   Trigger Decrease_Global_Aggpisa_Siege_AI
    WhenToTest Transgression
	Condition TransgressionName = TC_INSTIGATE_SIEGE
		and FactionType pisa
		and I_EventCounter aggpisa > 0
		and GlobalStanding > -0.7
		and not FactionIsLocal
   FactionStanding global  -0.042
   FactionStanding target_faction -0.3
   
;------------------------------------------
;--- RELEASE TRIGGERS ---------------------
;------------------------------------------   

Trigger Prisoners_released_fl_increase_global_1
    WhenToTest FactionLeaderPrisonersRansomedCaptor
    Condition RansomType release
		and NumCapturedSoldiers > 1000
		and not TargetFactionType slave
    FactionStanding global 0.03
    FactionStanding target_faction normalise 0.5 10
    FactionStanding target_allies normalise 0.6 30

;------------------------------------------
Trigger Prisoners_released_fl_increase_global_2
    WhenToTest FactionLeaderPrisonersRansomedCaptor
    Condition RansomType release
        and NumCapturedSoldiers > 400
		and not TargetFactionType slave
    FactionStanding global 0.03
    FactionStanding target_faction normalise 0.4 20
    FactionStanding target_allies normalise 0.6 40
    
;------------------------------------------
Trigger Prisoners_released_fl_increase_global_3
    WhenToTest FactionLeaderPrisonersRansomedCaptor
    Condition RansomType release
		and not TargetFactionType slave
    FactionStanding global 0.03
    FactionStanding target_faction normalise 0.3 30
    FactionStanding target_allies normalise 0.6 50

;------------------------------------------
Trigger Prisoners_released_increase_global_1
    WhenToTest GeneralPrisonersRansomedCaptor
	
    Condition RansomType release
        and NumCapturedSoldiers > 1000
		and not TargetFactionType slave
    FactionStanding global 0.12
    FactionStanding target_faction normalise 0.4 10
    FactionStanding target_allies normalise 0.6 20

;------------------------------------------
Trigger Prisoners_released_increase_global_2
    WhenToTest GeneralPrisonersRansomedCaptor
	
    Condition RansomType release
        and NumCapturedSoldiers > 400
        and NumCapturedSoldiers < 1000
		and not TargetFactionType slave

    FactionStanding global 0.1
    FactionStanding target_faction normalise 0.3 20
    FactionStanding target_allies normalise 0.6 30
    
;------------------------------------------
Trigger Prisoners_released_increase_global_3
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition RansomType release
          and NumCapturedSoldiers > 100
          and NumCapturedSoldiers < 400
          and not TargetFactionType slave

    FactionStanding global 0.08
    FactionStanding target_faction normalise 0.3 30
    FactionStanding target_allies normalise 0.6 40
;------------------------------------------
Trigger Prisoners_released_increase_global_4
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition RansomType release
          and NumCapturedSoldiers > 20
          and NumCapturedSoldiers < 101
          and not TargetFactionType slave

    FactionStanding global 0.04
    FactionStanding target_faction normalise 0.3 40
    FactionStanding target_allies normalise 0.6 50
	
	
;------------------------------------------------------------
;--- RANSOM TRIGGERS ----------------------------------------
;------------------------------------------------------------ 
; GeneralPrisonersRansomedCaptive works here, while GeneralPrisonersRansomedCaptor doesn't

Trigger Prisoners_ransom_paid
    WhenToTest GeneralPrisonersRansomedCaptive

    Condition RansomType ransom
		and I_EventCounter is_the_player == 1
		and NumCapturedSoldiers > 1
		and RansomAmount > 1

    FactionStanding global 0.01
    FactionStanding target_faction 0.01

;------------------------------------------
;cannot_pay_ransom does not work

Trigger Prisoners_ransom_not_paid
    WhenToTest GeneralPrisonersRansomedCaptive

    Condition RansomType execute
		and I_EventCounter is_the_player == 1  
		and NumCapturedSoldiers > 1

    FactionStanding global -0.01
	FactionStanding target_faction -0.01

;------------------------------------------
;--- EXECUTE TRIGGERS ---------------------
;------------------------------------------
Trigger Prisoners_executed_fl_decrease_global_1
    WhenToTest FactionLeaderPrisonersRansomedCaptor

    Condition RansomType execute
        and NumCapturedSoldiers > 1000
	      and not TargetFactionType slave

    FactionStanding global -0.2
    FactionStanding target_faction normalise -0.8 30
    FactionStanding target_allies normalise -1.0 100

;------------------------------------------
Trigger Prisoners_executed_fl_decrease_global_2
    WhenToTest FactionLeaderPrisonersRansomedCaptor

    Condition RansomType execute
        and NumCapturedSoldiers > 400
        and NumCapturedSoldiers < 1000
	      and not TargetFactionType slave

    FactionStanding global -0.15
    FactionStanding target_faction normalise -0.8 60
    FactionStanding target_allies normalise -1.0 200
    
;------------------------------------------
Trigger Prisoners_executed_fl_decrease_global_3
    WhenToTest FactionLeaderPrisonersRansomedCaptor

    Condition RansomType execute
          and NumCapturedSoldiers > 10
          and NumCapturedSoldiers < 400
          and not TargetFactionType slave

    FactionStanding global -0.1
    FactionStanding target_faction normalise -0.8 100
    FactionStanding target_allies normalise -1.0 250

;------------------------------------------
Trigger Prisoners_executed_decrease_global_1
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition RansomType execute
        and NumCapturedSoldiers > 1000
	      and not TargetFactionType slave

    FactionStanding global -0.18
    FactionStanding target_faction normalise -0.8 30
    FactionStanding target_allies normalise -1.0 100

;------------------------------------------
Trigger Prisoners_executed_decrease_global_2
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition RansomType execute
        and NumCapturedSoldiers > 400
        and NumCapturedSoldiers < 1000
	      and not TargetFactionType slave

    FactionStanding global -0.013
    FactionStanding target_faction normalise -0.8 60
    FactionStanding target_allies normalise -1.0 200
    
;------------------------------------------
Trigger Prisoners_executed_decrease_global_3H
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition RansomType execute
        and NumCapturedSoldiers > 100
        and NumCapturedSoldiers < 400
        and not TargetFactionType slave
        and FactionIsLocal

    FactionStanding global -0.08
    FactionStanding target_faction normalise -0.8 100
    FactionStanding target_allies normalise -1.0 250
    
;------------------------------------------
Trigger Prisoners_executed_decrease_global_3AI
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition RansomType execute
        and NumCapturedSoldiers > 100
        and NumCapturedSoldiers < 400
        and not TargetFactionType slave
        and not FactionIsLocal

    FactionStanding target_faction normalise -0.8 100
    FactionStanding target_allies normalise -1.0 250
    
;------------------------------------------
Trigger characters_executed_fl_decrease_global
    WhenToTest FactionLeaderPrisonersRansomedCaptor

    Condition RansomType execute
        and NumCapturedSoldiers > 0
        and not TargetFactionType slave

    FactionStanding global -0.05
    FactionStanding target_faction normalise -1.0 30
    FactionStanding target_allies normalise -1.0 50

;------------------------------------------
Trigger characters_executed_decrease_global
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition RansomType execute
        and NumCapturedSoldiers > 0
        and not TargetFactionType slave

    FactionStanding global -0.05
    FactionStanding target_faction normalise -1.0 40
    FactionStanding target_allies normalise -1.0 70
    
;------------------------------------------
	
	
;------------------------------------------
Trigger 0101_sack_settlement_decrease_global
    WhenToTest SackSettlement

    FactionStanding global -0.2 ; for non-sphere settlements (see end of file) additional -0.1
    FactionStanding target_faction normalise -1.0 8 ; for non-sphere settlements (see end of file) additional -1 8
    FactionStanding target_allies normalise -1.0 160 ; for non-sphere settlements (see end of file) additional -1 160
    FactionStanding exclude_factions { slave } normalise -1.0 60 ; for non-sphere settlements (see end of file) additional -1 90

;------------------------------------------
Trigger 0102_extermination_decrease_global
    WhenToTest ExterminatePopulation

    FactionStanding global -0.4 ;for non-sphere settlements (see end of file) additional -0.1
    FactionStanding target_faction normalise -1.0 3 ; for non-sphere settlements (see end of file) additional -1 8
    FactionStanding target_allies normalise -1.0 40 ; for non-sphere settlements (see end of file) additional -1 160
    FactionStanding exclude_factions { slave } normalise -1.0 20 ; for non-sphere settlements (see end of file) additional -1 90

;------------------------------------------
Trigger 0103_occupy_settlement_increase_global
    WhenToTest OccupySettlement

    FactionStanding global 0.05 ; for non-sphere settlements (see end of file) additional -0.1
    FactionStanding target_faction normalise -1.0 20 ; for non-sphere settlements (see end of file) additional -1 8
    FactionStanding exclude_factions { slave } normalise -1.0 90 ; for non-sphere settlements (see end of file) additional -1 90
	
;------------------------------------------
Trigger Human_Capture_Settlement
    WhenToTest GeneralCaptureSettlement
		Condition I_EventCounter is_the_player == 1  
    FactionStanding target_faction -0.5 

; make all other factions hate the rebels
;------------------------------------------
Trigger 0103_Update_Slaves
    WhenToTest FactionTurnStart

    Condition FactionType slave

    FactionStanding exclude_factions { slave } normalise -1.0 1


; make factions like trustworthy factions more
;---------------------------------------------
;Adjust relations based on reputation 
;---------------------------------------------

Trigger 0105_Update_Trustworthy_Factions_Major
    WhenToTest FactionTurnStart
    Condition GlobalStanding > 0.5
    FactionStanding exclude_factions { slave } normalise 0.4 40
;---------------------------------------------
Trigger 0105_Update_Trustworthy_Factions_Allies
    WhenToTest FactionTurnStart
    Condition GlobalStanding > 0.5
	FactionStanding allies normalise 0.9 30
;---------------------------------------------
Trigger 0105_Update_VeryReliable_Factions_Major
    WhenToTest FactionTurnStart
    Condition GlobalStanding > 0.35
    FactionStanding exclude_factions { slave } normalise 0.3 40
;---------------------------------------------
Trigger 0105_Update_VeryReliable_Factions_Allies
    WhenToTest FactionTurnStart
    Condition GlobalStanding > 0.35
	FactionStanding allies normalise 0.8 30
;---------------------------------------------
Trigger 0106_Update_Trustworthy_Factions_Minor
    WhenToTest FactionTurnStart
    Condition GlobalStanding > 0.2
    FactionStanding exclude_factions { slave } normalise 0.1 60

; make factions like untrustworthy factions less
;---------------------------------------------
Trigger 0107_Update_Untrustworthy_Factions_Major
    WhenToTest FactionTurnStart

    Condition GlobalStanding < -0.5

    FactionStanding exclude_factions { slave } normalise -0.6 50
    
;---------------------------------------------
Trigger 0108_Update_Untrustworthy_Factions_Minor
    WhenToTest FactionTurnStart

    Condition not FactionType slave
		and GlobalStanding < 0.0

    FactionStanding exclude_factions { slave } normalise -0.4 50

; make existing inter faction marriages improve relationships
;---------------------------------------------
Trigger 0109_Update_Marriages
    WhenToTest UpdateAttitude

    Condition NumFactionMarriages > 0

    FactionStanding target_faction normalise 0.5 25

;------------------------------------------
Trigger New_Faction_Leader_trigger
    WhenToTest BecomesFactionLeader

    FactionStanding exclude_factions { slave } normalise 0.2 10
    FactionStanding global normalise 0.1 10

;---------------------------------------------
; Normalise when in war, forget grudges

Trigger 0111_Forget_Harm_Human
    WhenToTest UpdateAttitude
    Condition DiplomaticStanceFactions = AtWar
    and not FactionType slave
    and not FactionIsLocal
    and TargetFactionIsLocal

    FactionStanding enemies normalise 0.0 60


;######################################################################### 
;##########         MISSIONS         #####################################
;#########################################################################


;------------------------------------------
Trigger 0100_Success_Pope_Min_Reward_Only
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_min_reward_only

    FactionStanding factions { papal_states } 0.05

;------------------------------------------
Trigger 0101_Success_Pope_Min_Penalty_Min_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_min_penalty_min_reward

    FactionStanding factions { papal_states } 0.05

;------------------------------------------
Trigger 0102_Success_Pope_Mod_Penalty_Min_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_mod_penalty_min_reward

    FactionStanding factions { papal_states } 0.05

;------------------------------------------
Trigger 0103_Success_Pope_Rome_Min_Penalty_Min_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_rome_min_penalty_min_reward

    FactionStanding factions { papal_states } 0.05

;------------------------------------------
Trigger 0104_Success_Pope_Cardinal_Mod_Penalty_Min_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_cardinal_mod_penalty_min_reward

    FactionStanding factions { papal_states } 0.05

;------------------------------------------
Trigger 0104_Success_Pope_Cardinal_Min_Penalty_Min_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_cardinal_min_penalty_min_reward

    FactionStanding factions { papal_states } 0.05

;------------------------------------------
Trigger 0105_Success_Pope_Mod_Reward_Only
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_mod_reward_only

    FactionStanding factions { papal_states } 0.15

;------------------------------------------
Trigger 0106_Success_Pope_Min_Penalty_Mod_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_min_penalty_mod_reward

    FactionStanding factions { papal_states } 0.15

;------------------------------------------
Trigger 0107_Success_Pope_Rome_Min_Penalty_Mod_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_rome_min_penalty_mod_reward

    FactionStanding factions { papal_states } 0.15

;------------------------------------------
Trigger 0108_Success_Pope_Cardinal_Min_Penalty_Mod_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_cardinal_min_penalty_mod_reward

    FactionStanding factions { papal_states } 0.15

;------------------------------------------
Trigger 0109_Success_Pope_Cardinal_Mod_Reward_Only
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_cardinal_mod_reward_only

    FactionStanding factions { papal_states } 0.15

;------------------------------------------
Trigger 0110_Success_Pope_Major_Reward_Only
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_major_reward_only

    FactionStanding factions { papal_states } 0.3

;------------------------------------------
Trigger 0111_Success_Pope_Rome_Min_Penalty_Major_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_rome_min_penalty_major_reward

    FactionStanding factions { papal_states } 0.3

;------------------------------------------
Trigger 0112_Success_Pope_Cardinal_Major_Reward_Only
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_cardinal_major_reward_only

    FactionStanding factions { papal_states } 0.3

;------------------------------------------
Trigger 0113_Success_Pope_Cardinal_Min_Penalty_Major_Reward
    WhenToTest LeaderMissionSuccess

    Condition PaybackID pope_cardinal_min_penalty_major_reward

    FactionStanding factions { papal_states } 0.3

;------------------------------------------
Trigger 0120_Fail_Pope_Min_Penalty_Only
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_min_penalty_only

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0121_Fail_Pope_Min_Penalty_Min_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_min_penalty_min_reward

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0122_Fail_Pope_Min_Penalty_Mod_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_min_penalty_mod_reward

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0123_Fail_Pope_Rome_Min_Penalty_Only
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_rome_min_penalty_only

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0124_Fail_Pope_Rome_Min_Penalty_Min_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_rome_min_penalty_min_reward

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0125_Fail_Pope_Rome_Min_Penalty_Mod_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_rome_min_penalty_mod_reward

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0126_Fail_Pope_Rome_Min_Penalty_Major_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_rome_min_penalty_major_reward

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0127_Fail_Pope_Cardinal_Min_Penalty_Min_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_cardinal_min_penalty_min_reward

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0128_Fail_Pope_Cardinal_Min_Penalty_Only
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_cardinal_min_penalty_only

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0129_Fail_Pope_Cardinal_Min_Penalty_Mod_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_cardinal_min_penalty_mod_reward

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0130_Fail_Pope_Cardinal_Min_Penalty_Major_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_cardinal_min_penalty_major_reward

    FactionStanding factions { papal_states } -0.05

;------------------------------------------
Trigger 0131_Fail_Pope_Mod_Penalty_Only
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_mod_penalty_only

    FactionStanding factions { papal_states } -0.15

;------------------------------------------
Trigger 0132_Fail_Pope_Mod_Penalty_Min_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_mod_penalty_min_reward


    FactionStanding factions { papal_states } -0.15
;------------------------------------------
Trigger 0133_Fail_Pope_Rome_Mod_Penalty_Only
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_rome_mod_penalty_only

    FactionStanding factions { papal_states } -0.15

;------------------------------------------
Trigger 0134_Fail_Pope_Cardinal_Mod_Penalty_Only
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_cardinal_mod_penalty_only

    FactionStanding factions { papal_states } -0.15

;------------------------------------------
Trigger 0135_Fail_Pope_Cardinal_Mod_Penalty_Min_Reward
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_cardinal_mod_penalty_min_reward

    FactionStanding factions { papal_states } -0.15

;------------------------------------------
Trigger 0136_Fail_Pope_Major_Penalty_Only
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_major_penalty_only

    FactionStanding factions { papal_states } -0.3

;------------------------------------------
Trigger 0137_Fail_Pope_Rome_Major_Penalty_Only
    WhenToTest LeaderMissionFailed

    Condition PaybackID pope_rome_major_penalty_only

    FactionStanding factions { papal_states } -0.5


;######################################################################### 
;##########         DIPLOMACY         ####################################
;######################################################################### 

;------------------------------------------
;Trigger 0033_P_Give_Money
;    WhenToTest GiveMoney

;    Condition TargetFactionType papal_states
;	and DiplomaticStanceFromFaction papal_states < AtWar
;	and FactionIsLocal
	
;   FactionStanding factions { papal_states } amount 100 0.002
;	FactionStanding factions { papal_states } -0.05
;------------------------------------------
;AI may pay the Pope as before
Trigger 0033_P_Give_Money
    WhenToTest GiveMoney

    Condition TargetFactionType papal_states
	and DiplomaticStanceFromFaction papal_states < AtWar
	and not FactionIsLocal
    FactionStanding factions { papal_states } amount 1000 0.01
;------------------------------------------
Trigger 0034_P_Give_Settlement
    WhenToTest GiveSettlement

    Condition TargetFactionType papal_states
	  and DiplomaticStanceFromFaction papal_states < AtWar

    FactionStanding factions { papal_states } income 1000 0.03

;------------------------------------------
Trigger 0035_P_Give_Rome
    WhenToTest GiveSettlement

    Condition TargetFactionType papal_states
          and SettlementName Rome
	  and DiplomaticStanceFromFaction papal_states < AtWar

    FactionStanding factions { papal_states } 0.8
	FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem  } 0.2

;------------------------------------------
Trigger 0036_P_Alliance_Declared
    WhenToTest FactionAllianceDeclared

    Condition TargetFactionType papal_states

    FactionStanding factions { papal_states } 0.3
	FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem  } 0.05
;------------------------------------------
Trigger Alliance_Declared_Catholic_to_Catholic
    WhenToTest FactionAllianceDeclared

    Condition FactionReligion catholic
	and TargetFactionReligion catholic
	and not TargetFactionExcommunicated
	
    FactionStanding factions { papal_states } 0.05
    FactionStanding target_faction 0.3
    FactionStanding target_allies normalise 1.0 20
    FactionStanding target_enemies normalise -1.0 30

;------------------------------------------
Trigger Alliance_Declared_Catholic_to_Orthodox
    WhenToTest FactionAllianceDeclared

    Condition FactionReligion catholic
	and TargetFactionReligion orthodox

    FactionStanding target_faction 0.3
    FactionStanding target_allies normalise 1.0 30
    FactionStanding target_enemies normalise -1.0 30

;------------------------------------------
Trigger Alliance_Declared_Catholic_to_Non_Christian
    WhenToTest FactionAllianceDeclared

    Condition FactionReligion catholic
	and not TargetFactionReligion catholic
	and not TargetFactionReligion orthodox

    FactionStanding factions { papal_states } -0.1
    FactionStanding target_faction 0.3
    FactionStanding target_allies normalise 1.0 30
    FactionStanding target_enemies normalise -1.0 30

;------------------------------------------
Trigger Alliance_Declared_Orthodox_to_Orthodox
    WhenToTest FactionAllianceDeclared

    Condition FactionReligion orthodox
	and TargetFactionReligion orthodox

    FactionStanding target_faction 0.3
    FactionStanding target_allies normalise 1.0 30
    FactionStanding target_enemies normalise -1.0 30

;------------------------------------------
Trigger Alliance_Declared_Orthodox_to_Catholic
    WhenToTest FactionAllianceDeclared

    Condition FactionReligion orthodox
	and TargetFactionReligion catholic

    FactionStanding factions { papal_states } 0.05
    FactionStanding target_faction 0.3
    FactionStanding target_allies normalise 1.0 30
    FactionStanding target_enemies normalise -1.0 30

;------------------------------------------
Trigger Alliance_Declared_Orthodox_to_Non_Christian
    WhenToTest FactionAllianceDeclared

    Condition FactionReligion orthodox
	and not TargetFactionReligion catholic
	and not TargetFactionReligion orthodox

    FactionStanding factions { papal_states } -0.02
    FactionStanding target_faction 0.3
    FactionStanding target_allies normalise 1.0 30
    FactionStanding target_enemies normalise -1.0 30

;------------------------------------------
Trigger Alliance_Declared_Islamic_to_Islamic
    WhenToTest FactionAllianceDeclared

    Condition FactionReligion islam
	and TargetFactionReligion islam

    FactionStanding factions { papal_states } -0.02
    FactionStanding target_faction 0.3
    FactionStanding target_allies normalise 1.0 30
    FactionStanding target_enemies normalise -1.0 30

;------------------------------------------
Trigger Alliance_Declared_Islamic_to_Non_Islamic
    WhenToTest FactionAllianceDeclared

    Condition FactionReligion islam
	and not TargetFactionReligion islam

    FactionStanding factions { papal_states } -0.02
    FactionStanding target_faction 0.3
    FactionStanding target_allies normalise 1.0 30
    FactionStanding target_enemies normalise -1.0 30

;------------------------------------------
;Fires when ally army attacks another ally army or settlement
;or when its cancelled by diplomacy,
;and fires twice, is it a bug? Maybe fires once for each faction involved?
;thats why the relations only suffer but not global reputation.

Trigger 0037_P_Break_Alliance_Any
    WhenToTest FactionBreakAlliance

    FactionStanding exclude_factions { slave } -0.025
    FactionStanding own_religion -0.025 
    FactionStanding allies normalise -1.0 50
    FactionStanding target_allies normalise -1.0 50
    FactionStanding target_enemies normalise 1.0 75

;------------------------------------------
Trigger 0038_P_Successful_Diplomacy
    WhenToTest DiplomacyMission

    Condition MissionSucceeded

    FactionStanding target_faction normalise 1.0 20
    FactionStanding own_religion normalise 1.0 40

;------------------------------------------
Trigger 0039_P_War_Declared
    WhenToTest FactionWarDeclared

    Condition  TargetFactionType papal_states

    FactionStanding factions { papal_states } -0.6
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.2


;######################################################################### 
;##########         CARDINALS AND ELECTIONS         ######################
;#########################################################################  

;------------------------------------------
Trigger 0040_P_Cardinal_Promoted
    WhenToTest CardinalPromoted

    FactionStanding factions { papal_states } 0.1

;------------------------------------------
Trigger 0041_P_Cardinal_Removed
    WhenToTest CardinalRemoved

    FactionStanding factions { papal_states } -0.1

;------------------------------------------
Trigger 0042_P_Own_Pope_Elected
    WhenToTest PopeElected

    Condition FactionEqualsTarget

    FactionStanding factions { papal_states } 0.3
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.1
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.2

;------------------------------------------
Trigger 0043_P_Allied_Pope_Elected
    WhenToTest PopeElected

    Condition DiplomaticStanceWithNewPope = Allied
          and not FactionEqualsTarget

    FactionStanding factions { papal_states } 0.1

;------------------------------------------
Trigger 0044_P_At_War_Pope_Elected
    WhenToTest PopeElected

    Condition DiplomaticStanceWithNewPope = AtWar
          and not FactionEqualsTarget

    FactionStanding factions { papal_states } -0.4

;------------------------------------------
Trigger 0045_P_Voted_For_Pope
    WhenToTest VotedForPope
    FactionStanding factions { papal_states } 0.2


;######################################################################### 
;##########         MISCELLANEOUS         ################################
;#########################################################################   

;------------------------------------------
Trigger 0046_P_Normalise_AI
    WhenToTest FactionTurnStart
    Condition FactionReligion catholic
    and not FactionIsLocal
    FactionStanding factions { papal_states } normalise 0.6 70

;------------------------------------------
Trigger 0046_P_Normalise_Player
    WhenToTest FactionTurnStart
    Condition FactionReligion catholic
    and FactionIsLocal
    FactionStanding factions { papal_states } normalise 0.4 70
    

;------------------------------------------
Trigger 0047_P_Inquisitor_Appointed
    WhenToTest InquisitorAppointed
    FactionStanding factions { papal_states } -0.1

;------------------------------------------
Trigger 0048_P_Assassin_Caught_Attacking_Pope
    WhenToTest AssassinCaughtAttackingPope
    FactionStanding factions { papal_states } -1.0

; Make the papal states dislike other religions
;------------------------------------------
Trigger 0049_P_Normalise_Non_catholic
    WhenToTest FactionTurnStart
    Condition not FactionType slave
		and not FactionReligion catholic
    FactionStanding factions { papal_states } normalise -1.0 120


;######################################################################### 
;##########         FOREGIVENESS         ################################
;#########################################################################    

;------------------------------------------
Trigger 0079_F_Trade_Agreement
    WhenToTest FactionTradeAgreementMade
    FactionStanding target_faction 0.1
    FactionStanding target_allies normalise 0.2 20
    FactionStanding global 0.01
	
;------------------------------------------
; Event mil_assistance is in campaign_script
Trigger 0080_F_Military_Assistance_Fix
    WhenToTest FactionTurnEnd
	Condition I_EventCounter mil_assistance > 0
	FactionStanding global 0.15

;------------------------------------------
Trigger 0080_F_Military_Assistance
    WhenToTest Forgiveness
    Condition ForgivenessName = FC_MILITARY_ASSISTANCE

;	FactionStanding global 0.05	; trigger is broken as the trigger takes place from the perspective of the one being assisted, 
;	not the one doing the assisting, 
	FactionStanding target_faction 0.2
    FactionStanding target_allies normalise 1.0 10

;------------------------------------------
;Need to pay 5x more than in 0.96
; fired for every 1000 gold given as gift

Trigger 0081_F_Obvious_Bribe
    WhenToTest Forgiveness
    Condition ForgivenessName = FC_OBVIOUS_BRIBE
	and not TargetFactionType papal_states
    FactionStanding target_faction 0.024
;------------------------------------------
;Need to pay 5x more than in 0.96, even more for papal state
; fired for every 1000 gold given as gift

Trigger 0081_F_Obvious_Bribe
    WhenToTest Forgiveness
    Condition ForgivenessName = FC_OBVIOUS_BRIBE
	and TargetFactionType papal_states
	and DiplomaticStanceFromFaction papal_states < AtWar
	and FactionIsLocal
	FactionStanding target_faction 0.012
;------------------------------------------
;Trigger 0082_F_Update_Attitude
;    WhenToTest UpdateAttitude
;
;    Condition FactionStanding > 0.0
;
;    FactionStanding target_faction 0.01

; Forming an alliance increases relationships (papal states already factored in above)
;------------------------------------------
Trigger 0082b_F_Alliance_Declared
    WhenToTest FactionAllianceDeclared
    Condition not TargetFactionType papal_states
    FactionStanding target_faction 0.1
    FactionStanding target_allies normalise 1 5
    FactionStanding target_enemies normalise -1.0 5

; Inter faction marriage increases relationships
;------------------------------------------
Trigger 0082c_P_Faction_Marriage
    WhenToTest InterFactionMarriage

    FactionStanding target_faction 0.25
    FactionStanding target_faction normalise 1 25
    FactionStanding target_allies normalise 1 75

;############################### DEMEANOR ####################################
;------------------------------------------
Trigger 0083_Demeanour
    WhenToTest Demeanour

    FactionStanding target_faction amount 1.0 0.002
    FactionStanding target_allies amount 1.0 0.001    
    
;################## BUILD CHARITY STRUCTURES ############################

;--------------------------------------------
Trigger FS_Build_Charity4
    WhenToTest BuildingCompleted
    Condition SettlementBuildingFinished = charity4 
    FactionStanding factions { papal_states } 0.025
    FactionStanding global 0.02
	FactionStanding exclude_factions { } 0.01
;--------------------------------------------
Trigger FS_Build_Charity5
    WhenToTest BuildingCompleted
    Condition SettlementBuildingFinished = charity5 
    FactionStanding factions { papal_states } 0.025
    FactionStanding global 0.04
	FactionStanding exclude_factions { } 0.02
;------------------------------------------

;################## BUILD UNIVERSITIES ############################

;------------------------------------------
Trigger FS_Build_University
    WhenToTest BuildingCompleted
    Condition SettlementBuildingFinished = university 
    FactionStanding global 0.02
;------------------------------------------
Trigger FS_Build_Great_University
    WhenToTest BuildingCompleted
    Condition SettlementBuildingFinished = great_university 
    FactionStanding global 0.04

;------------------------------------------

;################## BUILD RELIGIOUS STRUCTURES ############################

;=========== CATHOLIC =====================

;------------------------------------------
Trigger Catholic_Build_Small_Church
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = small_church

    FactionStanding factions { papal_states } 0.025
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.001
    FactionStanding factions { moors, egypt, turks, rum,  mongols, zengid , abbasid, cumans, lithuania } -0.001

;------------------------------------------
Trigger Catholic_Build_Church
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = church

    FactionStanding factions { papal_states } 0.03
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.001
    FactionStanding factions { moors, egypt, turks, rum,  mongols, zengid , abbasid, cumans, lithuania } -0.002

;------------------------------------------
Trigger Catholic_Build_Abbey
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = abbey

    FactionStanding factions { papal_states } 0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.005
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.003
    FactionStanding factions { moors, egypt, turks, rum,  mongols, zengid , abbasid, cumans, lithuania } -0.005

;------------------------------------------
Trigger Catholic_Build_Abbey_Rep
    WhenToTest BuildingCompleted
		Condition SettlementBuildingFinished = abbey
    FactionStanding global 0.05

;------------------------------------------
Trigger Catholic_Build_Cathedral
    WhenToTest BuildingCompleted
		Condition SettlementBuildingFinished = cathedral

    FactionStanding factions { papal_states } 0.1
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.008
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.005
    FactionStanding factions { moors, egypt, turks, rum,  mongols, zengid , abbasid, cumans, lithuania } -0.01
	
;------------------------------------------
Trigger Catholic_Build_Cathedral_Rep
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = cathedral
    FactionStanding global 0.1

;------------------------------------------
Trigger Catholic_Build_Huge_Cathedral
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = huge_cathedral

    FactionStanding factions { papal_states } 0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.016
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.016
    FactionStanding factions { moors, egypt, turks, rum,  mongols, zengid , abbasid, cumans, lithuania } -0.032
	
;------------------------------------------
Trigger Catholic_Build_Huge_Cathedral_Rep
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = huge_cathedral
    FactionStanding global 0.15

;------------------------------------------
Trigger Catholic_Build_Small_Chapel
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = small_chapel

    FactionStanding factions { papal_states } 0.025
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.001
    FactionStanding factions { moors, egypt, turks, rum,  mongols, zengid , abbasid, cumans, lithuania } -0.002

;------------------------------------------
Trigger Catholic_Build_Chapel
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = chapel

    FactionStanding factions { papal_states } 0.03
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.001
    FactionStanding factions { moors, egypt, turks, rum,  mongols, zengid , abbasid, cumans, lithuania } -0.003

;------------------------------------------
Trigger Catholic_Build_First_Small_Church_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction small_church = 1

    FactionStanding factions { papal_states } 0.02

;------------------------------------------
Trigger Catholic_Build_First_Church_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction church = 1

    FactionStanding factions { papal_states } 0.04

;------------------------------------------
Trigger Catholic_Build_First_Abbey_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction abbey = 1

    FactionStanding factions { papal_states } 0.08

;------------------------------------------
Trigger Catholic_Build_First_Cathedral_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction cathedral = 1

    FactionStanding factions { papal_states } 0.12
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.008
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.016
	FactionStanding global 0.1
;------------------------------------------
Trigger Catholic_Build_First_Huge_Cathedral_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction huge_cathedral = 1

    FactionStanding factions { papal_states } 0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.012
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.016
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.032
	FactionStanding global 0.1
;------------------------------------------
Trigger Catholic_Build_First_Small_Chapel_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction small_chapel = 1

    FactionStanding factions { papal_states } 0.01

;------------------------------------------
Trigger Catholic_Build_First_Chapel_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction chapel = 1

    FactionStanding factions { papal_states } 0.02

;------------------------------------------
Trigger Catholic_Build_First_Cathedral_World
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted cathedral = 1
	FactionStanding global 0.1
    FactionStanding factions { papal_states } 0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.02
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.04
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.08

;------------------------------------------
Trigger Catholic_Build_First_Huge_Cathedral_World
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted huge_cathedral = 1
	FactionStanding global 0.1
    FactionStanding factions { papal_states } 0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.036
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.08
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.16

;=========== ORTHODOX =====================
;------------------------------------------
Trigger Orthodox_Build_Small_Church
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = small_church_o

    FactionStanding factions { papal_states } -0.005
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.001
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.001

;------------------------------------------
Trigger Orthodox_Build_Church
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = church_o

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.001
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.002

;------------------------------------------
Trigger Orthodox_Build_Abbey
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = abbey_o

    FactionStanding factions { papal_states } -0.03
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.005
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.003
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.005
	
;------------------------------------------
Trigger Orthodox_Build_Abbey_Rep
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = abbey_o
	FactionStanding global 0.05

;------------------------------------------
Trigger Orthodox_Build_Cathedral
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = cathedral_o

    FactionStanding factions { papal_states } -0.06
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.008
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.006
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.016
	
;------------------------------------------
Trigger Orthodox_Build_Cathedral_Rep
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = cathedral_o
    FactionStanding global 0.1

;------------------------------------------
Trigger Orthodox_Build_Huge_Cathedral
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = huge_cathedral_o

    FactionStanding factions { papal_states } -0.15
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.016
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.016
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.032
	
;------------------------------------------
Trigger Orthodox_Build_Huge_Cathedral_Rep
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = huge_cathedral_o
    FactionStanding global 0.15

;------------------------------------------
Trigger Orthodox_Build_Small_Chapel
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = small_chapel_o

    FactionStanding factions { papal_states } -0.005
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.001
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.001

;------------------------------------------
Trigger Orthodox_Build_Chapel
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = chapel_o

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.001
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.002

;------------------------------------------
Trigger Orthodox_Build_First_Small_Church_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction small_church_o = 1

    FactionStanding factions { papal_states } -0.005

;------------------------------------------
Trigger Orthodox_Build_First_Church_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction church_o = 1

    FactionStanding factions { papal_states } -0.005

;------------------------------------------
Trigger Orthodox_Build_First_Abbey_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction abbey_o = 1

    FactionStanding factions { papal_states } -0.005

;------------------------------------------
Trigger Orthodox_Build_First_Cathedral_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction cathedral_o = 1

    FactionStanding factions { papal_states } -0.005
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.008
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.016

;------------------------------------------
Trigger Orthodox_Build_First_Huge_Cathedral_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction huge_cathedral_o = 1
	FactionStanding global 0.1
    FactionStanding factions { papal_states } -0.1
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem }  -0.016
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.012
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.032

;------------------------------------------
Trigger Orthodox_Build_First_Small_Chapel_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction small_chapel_o = 1

    FactionStanding factions { papal_states } -0.005

;------------------------------------------
Trigger Orthodox_Build_First_Chapel_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction chapel_o = 1

    FactionStanding factions { papal_states } -0.01

;------------------------------------------
Trigger Orthodox_Build_First_Cathedral_World
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted cathedral_o = 1

    FactionStanding factions { papal_states } -0.1
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem }  -0.04
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.016
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.08

;------------------------------------------
Trigger Orthodox_Build_First_Huge_Cathedral_World
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted huge_cathedral_o = 1

    FactionStanding factions { papal_states } -0.15
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.08
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.036
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid , abbasid, cumans, lithuania } -0.16


;=========== MUSLIM =====================
;------------------------------------------
Trigger Muslim_Build_Small_Church
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = small_masjid

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols } -0.001
    FactionStanding factions { moors, egypt, turks, rum, mongols, zengid, abbasid } 0.001

;------------------------------------------
Trigger Muslim_Build_Church
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = masjid

    FactionStanding factions { papal_states } -0.02
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols } -0.002
    FactionStanding factions { moors, egypt, turks, rum, zengid, abbasid } 0.001

;------------------------------------------
Trigger Muslim_Build_Abbey
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = minareted_masjid

    FactionStanding factions { papal_states } -0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols } -0.005
    FactionStanding factions { moors, egypt, turks, rum, zengid, abbasid } 0.005
	
;------------------------------------------
Trigger Muslim_Build_Abbey_Rep
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = minareted_masjid
	and GlobalStanding < 0.2

    FactionStanding global normalise 0.5 100

;------------------------------------------
Trigger Muslim_Build_Cathedral
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = jama

    FactionStanding factions { papal_states } -0.12
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols } -0.008
    FactionStanding factions { moors, egypt, turks, rum, zengid, abbasid } 0.016
	
;------------------------------------------
Trigger Muslim_Build_Cathedral_Rep
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = jama	
    FactionStanding global 0.1

;------------------------------------------
Trigger Muslim_Build_Huge_Cathedral
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = great_jama

    FactionStanding factions { papal_states } -0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols } -0.016
    FactionStanding factions { moors, egypt, turks, rum, zengid, abbasid } 0.032
	
;------------------------------------------
Trigger Muslim_Build_Huge_Cathedral_Rep
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = great_jama	
    FactionStanding global 0.2

;------------------------------------------
Trigger Muslim_Build_Small_Chapel
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = c_small_masjid

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols } -0.001
    FactionStanding factions { moors, egypt, turks, rum, zengid, abbasid } 0.002

;------------------------------------------
Trigger Muslim_Build_Chapel
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = c_masjid

    FactionStanding factions { papal_states } -0.02
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols }  -0.001
    FactionStanding factions { moors, egypt, turks, rum, zengid, abbasid } 0.003

;------------------------------------------
Trigger Muslim_Build_First_Small_Church_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction small_masjid = 1

    FactionStanding factions { papal_states } -0.01

;------------------------------------------
Trigger Muslim_Build_First_Church_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction masjid = 1

    FactionStanding factions { papal_states } -0.02

;------------------------------------------
Trigger Muslim_Build_First_Abbey_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction minareted_masjid = 1

    FactionStanding factions { papal_states } -0.08

;------------------------------------------
Trigger Muslim_Build_First_Cathedral_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction jama = 1

    FactionStanding factions { papal_states } -0.12
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols }  -0.008

;------------------------------------------
Trigger Muslim_Build_First_Huge_Cathedral_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction great_jama = 1

    FactionStanding factions { papal_states } -0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols }  -0.032
    FactionStanding factions { moors, egypt, turks, rum, zengid, abbasid } -0.012

;------------------------------------------
Trigger Muslim_Build_First_Small_Chapel_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction small_masjid = 1

    FactionStanding factions { papal_states } -0.01

;------------------------------------------
Trigger Muslim_Build_First_Chapel_Faction
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompletedFaction masjid = 1

    FactionStanding factions { papal_states } -0.02

;------------------------------------------
Trigger Muslim_Build_First_Cathedral_World
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted jama = 1

    FactionStanding factions { papal_states } -0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols }  -0.04
    FactionStanding factions { moors, egypt, turks, rum, zengid, abbasid } -0.08

;------------------------------------------
Trigger Muslim_Build_First_Huge_Cathedral_World
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted great_jama = 1

    FactionStanding factions { papal_states } -0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , cumans, lithuania, mongols }  -0.08
    FactionStanding factions { moors, egypt, turks, rum, zengid, abbasid } -0.16


;=========== PAGAN =====================
;------------------------------------------
Trigger Pagan_Build_Small_Church1
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = dievas_altar

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.003
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Small_Church2
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = perkunas_altar

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.003
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Small_Church3
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = giltine_altar

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.003
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Small_Church4
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = tengir_altar

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.003
    FactionStanding factions { cumans, mongols } 0.016
    FactionStanding factions { lithuania } -0.001

;------------------------------------------
Trigger Pagan_Build_Church1
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = dievas_sanctuary

    FactionStanding factions { papal_states } -0.04
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.005
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Church2
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = perkunas_sanctuary

    FactionStanding factions { papal_states } -0.04
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.005
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Church3
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = giltine_sanctuary

    FactionStanding factions { papal_states } -0.04
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.005
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Church4
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = tengir_sanctuary

    FactionStanding factions { papal_states } -0.04
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.005
    FactionStanding factions { cumans, mongols } 0.016
    FactionStanding factions { lithuania } -0.001


;------------------------------------------
Trigger Pagan_Build_Cathedral1
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = dievas_temple

    FactionStanding factions { papal_states } -0.16
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.008
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Cathedral2
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = perkunas_temple

    FactionStanding factions { papal_states } -0.16
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.008
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Cathedral3
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = giltine_temple

    FactionStanding factions { papal_states } -0.16
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.008
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Cathedral4
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = tengir_temple

    FactionStanding factions { papal_states } -0.16
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.008
    FactionStanding factions { cumans, mongols } 0.016
    FactionStanding factions { lithuania } -0.001

;------------------------------------------
Trigger Pagan_Build_Small_Chapel1
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = c_dievas_altar

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.003
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Small_Chapel2
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = c_perkunas_altar

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.003
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Small_Chapel3
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = c_giltine_altar

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.003
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_Small_Chapel4
    WhenToTest BuildingCompleted

    Condition SettlementBuildingFinished = c_tengir_altar

    FactionStanding factions { papal_states } -0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.003
    FactionStanding factions { cumans, mongols } 0.016
    FactionStanding factions { lithuania } -0.001


;------------------------------------------
Trigger Pagan_Build_First_Cathedral_World1
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted dievas_temple = 1

    FactionStanding factions { papal_states } -0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.04
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_First_Cathedral_World2
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted perkunas_temple = 1

    FactionStanding factions { papal_states } -0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.04
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_First_Cathedral_World3
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted giltine_temple = 1

    FactionStanding factions { papal_states } -0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.04
    FactionStanding factions { cumans, mongols } -0.001

;------------------------------------------
Trigger Pagan_Build_First_Cathedral_World4
    WhenToTest BuildingCompleted

    Condition NumBuildingsCompleted tengir_temple = 1

    FactionStanding factions { papal_states } -0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid } -0.04
    FactionStanding factions { cumans, mongols } 0.016
    FactionStanding factions { lithuania } -0.001


;################## DESTROY RELIGIOUS STRUCTURES ############################
;=========== CATHOLIC =====================
;------------------------------------------
Trigger Catholic_Destroy_Small_Church
    WhenToTest BuildingDestroyed

    Condition BuildingName = small_church

    FactionStanding factions { papal_states } -0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.002
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.001
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.001

;------------------------------------------
Trigger Catholic_Destroy_Church
    WhenToTest BuildingDestroyed

    Condition BuildingName = church

    FactionStanding factions { papal_states } -0.08
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.005
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.002
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.001

;------------------------------------------
Trigger Catholic_Destroy_Abbey
    WhenToTest BuildingDestroyed

    Condition BuildingName = abbey

    FactionStanding factions { papal_states } -0.15
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.01
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.005
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.01

;------------------------------------------
Trigger Catholic_Destroy_Cathedral
    WhenToTest BuildingDestroyed

    Condition BuildingName = cathedral

    FactionStanding factions { papal_states } -0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.03
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.015
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.03

;------------------------------------------
Trigger Catholic_Destroy_Huge_Cathedral
    WhenToTest BuildingDestroyed

    Condition BuildingName = huge_cathedral

    FactionStanding factions { papal_states } -0.7
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.07
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.03
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.07

;------------------------------------------
Trigger Catholic_Destroy_Small_Chapel
    WhenToTest BuildingDestroyed

    Condition BuildingName = small_chapel

    FactionStanding factions { papal_states } -0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.002
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.002
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.002

;------------------------------------------
Trigger Catholic_Destroy_Chapel
    WhenToTest BuildingDestroyed

    Condition BuildingName = chapel

    FactionStanding factions { papal_states } -0.08
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.003
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } 0.002
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.003


;=========== ORTHODOX =====================
;------------------------------------------
Trigger Orthodox_Destroy_Small_Church
    WhenToTest BuildingDestroyed

    Condition BuildingName = small_church_o

    FactionStanding factions { papal_states } 0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.002
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.002

;------------------------------------------
Trigger Orthodox_Destroy_Church
    WhenToTest BuildingDestroyed

    Condition BuildingName = church_o

    FactionStanding factions { papal_states } 0.02
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.002
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.003
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.003

;------------------------------------------
Trigger Orthodox_Destroy_Abbey
    WhenToTest BuildingDestroyed

    Condition BuildingName = abbey_o

    FactionStanding factions { papal_states } 0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.005
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.005
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.01

;------------------------------------------
Trigger Orthodox_Destroy_Cathedral
    WhenToTest BuildingDestroyed

    Condition BuildingName = cathedral_o

    FactionStanding factions { papal_states } 0.1
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.015
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.03
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.03

;------------------------------------------
Trigger Orthodox_Destroy_Huge_Cathedral
    WhenToTest BuildingDestroyed

    Condition BuildingName = huge_cathedral_o

    FactionStanding factions { papal_states } 0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.03
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.07
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.07

;------------------------------------------
Trigger Orthodox_Destroy_Small_Chapel
    WhenToTest BuildingDestroyed

    Condition BuildingName = small_chapel_o

    FactionStanding factions { papal_states } 0.02
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.001
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.002
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.002

;------------------------------------------
Trigger Orthodox_Destroy_Chapel
    WhenToTest BuildingDestroyed

    Condition BuildingName = chapel_o

    FactionStanding factions { papal_states } 0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } 0.002
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } -0.003
    FactionStanding factions { moors, egypt, turks, rum, mongols, abbasid, zengid, cumans, lithuania } 0.003


;=========== ISLAMIC =====================
;------------------------------------------
Trigger Islamic_Destroy_Small_Church
    WhenToTest BuildingDestroyed

    Condition BuildingName = small_masjid

    FactionStanding factions { papal_states } 0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus, cumans, lithuania, mongols } 0.002
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } -0.002

;------------------------------------------
Trigger Islamic_Destroy_Church
    WhenToTest BuildingDestroyed

    Condition BuildingName = masjid

    FactionStanding factions { papal_states } 0.02
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus, cumans, lithuania, mongols } 0.003
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } -0.003

;------------------------------------------
Trigger Islamic_Destroy_Abbey
    WhenToTest BuildingDestroyed

    Condition BuildingName = minareted_masjid

    FactionStanding factions { papal_states } 0.1
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus, cumans, lithuania, mongols } 0.01
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } -0.01

;------------------------------------------
Trigger Islamic_Destroy_Cathedral
    WhenToTest BuildingDestroyed

    Condition BuildingName = jama

    FactionStanding factions { papal_states } 0.15
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus, cumans, lithuania, mongols } 0.03
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } -0.03

;------------------------------------------
Trigger Islamic_Destroy_Huge_Cathedral
    WhenToTest BuildingDestroyed

    Condition BuildingName = great_jama

    FactionStanding factions { papal_states } 0.3
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus, cumans, lithuania, mongols } 0.07
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } -0.07

;------------------------------------------
Trigger Islamic_Destroy_Small_Chapel
    WhenToTest BuildingDestroyed

    Condition BuildingName = c_small_masjid

    FactionStanding factions { papal_states } 0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus, cumans, lithuania, mongols } 0.002
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } -0.002

;------------------------------------------
Trigger Islamic_Destroy_Chapel
    WhenToTest BuildingDestroyed

    Condition BuildingName = c_masjid

    FactionStanding factions { papal_states } 0.03
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus, cumans, lithuania, mongols } 0.003
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } -0.003


;=========== PAGAN =====================
;------------------------------------------
Trigger Pagan_Destroy_Small_Church1
    WhenToTest BuildingDestroyed

    Condition BuildingName = dievas_altar

    FactionStanding factions { papal_states } 0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.002
    FactionStanding factions { cumans, lithuania, mongols } -0.002

;------------------------------------------
Trigger Pagan_Destroy_Small_Church2
    WhenToTest BuildingDestroyed

    Condition BuildingName = perkunas_altar

    FactionStanding factions { papal_states } 0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.002
    FactionStanding factions { cumans, lithuania, mongols } -0.002

;------------------------------------------
Trigger Pagan_Destroy_Small_Church3
    WhenToTest BuildingDestroyed

    Condition BuildingName = giltine_altar

    FactionStanding factions { papal_states } 0.01
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.002
    FactionStanding factions { cumans, lithuania, mongols } -0.002

;------------------------------------------
Trigger Pagan_Destroy_Small_Church4
    WhenToTest BuildingDestroyed

    Condition BuildingName = tengir_altar

    FactionStanding factions { papal_states } 0.02
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.002
    FactionStanding factions { cumans, lithuania, mongols } -0.002


;------------------------------------------
Trigger Pagan_Destroy_Church1
    WhenToTest BuildingDestroyed

    Condition BuildingName = dievas_sanctuary

    FactionStanding factions { papal_states } 0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.01
    FactionStanding factions { cumans, lithuania, mongols } -0.01

;------------------------------------------
Trigger Pagan_Destroy_Church2
    WhenToTest BuildingDestroyed

    Condition BuildingName = perkunas_sanctuary

    FactionStanding factions { papal_states } 0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.01
    FactionStanding factions { cumans, lithuania, mongols } -0.01

;------------------------------------------
Trigger Pagan_Destroy_Church3
    WhenToTest BuildingDestroyed

    Condition BuildingName = giltine_sanctuary

    FactionStanding factions { papal_states } 0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.01
    FactionStanding factions { cumans, lithuania, mongols } -0.01

;------------------------------------------
Trigger Pagan_Destroy_Church4
    WhenToTest BuildingDestroyed

    Condition BuildingName = tengir_sanctuary

    FactionStanding factions { papal_states } 0.05
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.01
    FactionStanding factions { cumans, lithuania, mongols } -0.01


;------------------------------------------
Trigger Pagan_Destroy_Cathedral1
    WhenToTest BuildingDestroyed

    Condition BuildingName = dievas_temple

    FactionStanding factions { papal_states } 0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.03
    FactionStanding factions { cumans, lithuania, mongols } -0.3

;------------------------------------------
Trigger Pagan_Destroy_Cathedral2
    WhenToTest BuildingDestroyed

    Condition BuildingName = perkunas_temple

    FactionStanding factions { papal_states } 0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.03
    FactionStanding factions { cumans, lithuania, mongols } -0.3

;------------------------------------------
Trigger Pagan_Destroy_Cathedral3
    WhenToTest BuildingDestroyed

    Condition BuildingName = giltine_temple

    FactionStanding factions { papal_states } 0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.03
    FactionStanding factions { cumans, lithuania, mongols } -0.3

;------------------------------------------
Trigger Pagan_Destroy_Cathedral4
    WhenToTest BuildingDestroyed

    Condition BuildingName = tengir_temple

    FactionStanding factions { papal_states } 0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, byzantium, russia, georgia, serbia, kievan_rus , moors, egypt, turks, rum, zengid, abbasid }  0.03
    FactionStanding factions { cumans, lithuania, mongols } -0.3


;;;; TBD buildings destroyed in battle

;################## DESTROY OTHER STRUCTURES ############################
;------------------------------------------
Trigger Faction_Destroys_Italian_Trader_Building
    WhenToTest BuildingDestroyed

    Condition BuildingName = italian_trader_quarters

    FactionStanding factions { pisa, venice } -0.05

;------------------------------------------
Trigger Faction_Destroys_Italian_Trader_Building
    WhenToTest BuildingDestroyed

    Condition BuildingName = italian_trader_headquarters

    FactionStanding factions { pisa, venice } -0.1

;####################### CRUSADES / JIHADS ###############################
          
;------------------------------------------
Trigger Enemies_Try_To_Capture_Crusade_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsCrusade  

    FactionStanding target_faction normalise -1.0 1  
          
;------------------------------------------
Trigger Enemies_Try_To_Capture_Jihad_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsJihad  

    FactionStanding target_faction normalise -1.0 1  
    
;================== CRUSADES ==============
;------------------------------------------
;------------------------------------------
;Arriving the general to the crusade target improves reputation and catholic factions relations
Trigger General_Arrives_Crusade_Any_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsCrusade
	FactionStanding global 0.1
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } per_unit 0.002
    FactionStanding factions { papal_states } 0.2
    FactionStanding factions { papal_states } per_unit 0.001
    FactionStanding target_faction per_unit -0.001
    FactionStanding target_allies -0.01
    FactionStanding target_enemies 0.01

;------------------------------------------
Trigger General_Arrives_Crusade_Islamic_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsCrusade
	and TargetFactionReligion islam
    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } per_unit -0.001

;------------------------------------------
Trigger General_Arrives_Crusade_Pagan_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsCrusade
	and TargetFactionReligion pagan
    FactionStanding factions { cumans, lithuania, mongols } per_unit -0.001

;------------------------------------------
Trigger Heir_Arrives_Crusade_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsCrusade
              and IsFactionHeir
	FactionStanding global 0.1
    FactionStanding factions { papal_states } 0.1

;------------------------------------------
Trigger King_Arrives_Crusade_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsCrusade
              and IsFactionLeader
	FactionStanding global 0.1
    FactionStanding factions { papal_states } 0.2

;------------------------------------------
Trigger General_Takes_Crusade_Islamic_Target
    WhenToTest GeneralTakesCrusadeTarget
	Condition TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } per_unit 0.002
	FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } per_unit -0.002
    FactionStanding target_faction per_unit -0.005
    FactionStanding target_allies -0.012
    FactionStanding target_enemies 0.01
	FactionStanding global 0.05
;------------------------------------------
Trigger General_Takes_Crusade_Pagan_Target
    WhenToTest GeneralTakesCrusadeTarget

    Condition IsCrusade
	and TargetFactionReligion pagan

    FactionStanding factions { papal_states } 0.2
	FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } per_unit 0.002

    FactionStanding factions { cumans, lithuania, mongols } per_unit -0.002
    FactionStanding target_faction per_unit -0.005
    FactionStanding target_allies -0.012
    FactionStanding target_enemies 0.001
	FactionStanding global 0.05
;------------------------------------------
Trigger General_Takes_Crusade_Other_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsCrusade
	and not TargetFactionReligion pagan
	and not TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.15
    FactionStanding factions { papal_states } per_unit 0.002
    FactionStanding target_faction per_unit -0.005
    FactionStanding target_allies -0.012
    FactionStanding target_enemies 0.001
	FactionStanding global 0.05
;------------------------------------------
Trigger 0054_P_Heir_Takes_Crusade_Target
    WhenToTest GeneralTakesCrusadeTarget

    Condition IsCrusade
              and IsFactionHeir
			  
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } per_unit 0.002
    FactionStanding factions { papal_states } 0.4
	FactionStanding global 0.05
;------------------------------------------
Trigger 0055_P_King_Takes_Crusade_Target
    WhenToTest GeneralTakesCrusadeTarget

    Condition IsCrusade
              and IsFactionLeader
			  
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } per_unit 0.002
    FactionStanding factions { papal_states } 0.6
	FactionStanding global 0.1
;------------------------------------------
Trigger 0056_P_Army_Takes_Crusade_Target
    WhenToTest ArmyTakesCrusadeTarget

    Condition IsCrusade

    FactionStanding factions { papal_states } per_unit 0.002
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } per_unit 0.001
	FactionStanding global 0.05
;------------------------------------------
Trigger 0057_P_Character_Attacks_Crusading_General
    WhenToTest CharacterAttacksCrusadingGeneral
    Condition IsTargetOnCrusade
	and FactionReligion catholic
    FactionStanding factions { papal_states } -0.2
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } -0.005
	FactionStanding global -0.2
;================== JIHADS ================
;------------------------------------------
Trigger General_Arrives_Jihad_Any_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsJihad

    FactionStanding factions { papal_states } -0.1
    FactionStanding factions { papal_states } per_unit -0.002
	FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } per_unit 0.002
    FactionStanding target_faction per_unit -0.002
    FactionStanding target_allies -0.01
    FactionStanding target_enemies 0.01
	FactionStanding global 0.05
;------------------------------------------
Trigger General_Arrives_Jihad_Catholic_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsJihad
	and TargetFactionReligion catholic

    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem } per_unit -0.002
	FactionStanding global 0.05
;------------------------------------------
Trigger General_Arrives_Jihad_Orthodox_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsJihad
	and TargetFactionReligion orthodox

    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } per_unit -0.002
	FactionStanding global 0.05
;------------------------------------------
Trigger General_Arrives_Jihad_Pagan_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsCrusade
	and TargetFactionReligion pagan

    FactionStanding factions { cumans, lithuania, mongols } per_unit -0.002
	FactionStanding global 0.05
;------------------------------------------
Trigger Heir_Arrives_Jihad_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsJihad
	and IsFactionHeir
	and TargetFactionReligion catholic

    FactionStanding factions { papal_states } -0.1
	FactionStanding global 0.05
;------------------------------------------
Trigger King_Arrives_Jihad_Target
    WhenToTest GeneralArrivesCrusadeTargetRegion

    Condition IsJihad
        and IsFactionLeader
	and TargetFactionReligion catholic

    FactionStanding factions { papal_states } -0.3
	FactionStanding global 0.1
;------------------------------------------
Trigger General_Takes_Jihad_Catholic_Target
    WhenToTest GeneralTakesCrusadeTarget

    Condition IsJihad
	and TargetFactionReligion catholic

    FactionStanding factions { papal_states } -0.1
    FactionStanding factions { england, france, spain, portugal, pisa, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem  } per_unit -0.002
    FactionStanding target_faction per_unit -0.005
    FactionStanding target_allies -0.012
    FactionStanding target_enemies 0.001
	FactionStanding global 0.05
;------------------------------------------
Trigger General_Takes_Jihad_Orthodox_Target
    WhenToTest GeneralTakesCrusadeTarget

    Condition IsJihad
	and TargetFactionReligion orthodox

    FactionStanding factions { papal_states } -0.1
    FactionStanding factions { byzantium, russia, georgia, serbia, kievan_rus } per_unit -0.002
    FactionStanding target_faction per_unit -0.005
    FactionStanding target_allies -0.012
    FactionStanding target_enemies 0.001
	FactionStanding global 0.05
;------------------------------------------
Trigger General_Takes_Jihad_Pagan_Target
    WhenToTest GeneralTakesCrusadeTarget

    Condition IsJihad
	and TargetFactionReligion pagan

    FactionStanding factions { cumans, lithuania, mongols } per_unit -0.002
    FactionStanding target_faction per_unit -0.005
    FactionStanding target_allies -0.012
    FactionStanding target_enemies 0.001
	FactionStanding global 0.05
;------------------------------------------
Trigger Heir_Takes_Jihad_Target
    WhenToTest GeneralTakesCrusadeTarget

    Condition IsCrusade
        and IsFactionHeir
	and TargetFactionReligion catholic

    FactionStanding factions { papal_states } -0.1
	FactionStanding global 0.05
;------------------------------------------
Trigger King_Takes_Jihad_Target
    WhenToTest GeneralTakesCrusadeTarget

    Condition IsJihad
        and IsFactionLeader
	and TargetFactionReligion catholic

    FactionStanding factions { papal_states } -0.2
	FactionStanding global 0.1
;------------------------------------------
Trigger Army_Takes_Jihad_Target
    WhenToTest ArmyTakesCrusadeTarget

    Condition IsJihad
	and TargetFactionReligion catholic

    FactionStanding factions { papal_states } per_unit -0.0015
    FactionStanding target_faction per_unit -0.004
    FactionStanding target_allies -0.012
    FactionStanding target_enemies 0.001
	FactionStanding global 0.05
;------------------------------------------
Trigger Character_Attacks_Jihading_General
    WhenToTest CharacterAttacksCrusadingGeneral

    Condition IsTargetOnJihad
	and FactionReligion islam
	
	FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid } per_unit -0.002
    FactionStanding factions { papal_states } 0.05
    FactionStanding target_faction per_unit -0.0015
	FactionStanding global -0.2
	
	
	
;########################## CHARACTERS ################################
;------------------------------------------
Trigger 0030_P_Recruit_Priest_Catholic
    WhenToTest AgentCreated

    Condition TrainedAgentType = priest
        and FactionReligion catholic

    FactionStanding factions { papal_states } 0.015
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.01
    FactionStanding factions { moors, egypt, zengid, rum, abbasid, turks } -0.02
    FactionStanding factions { byzantium, kievan_rus, russia, serbia, georgia } -0.01
    FactionStanding factions { lithuania, cumans, mongols } -0.01
    
;------------------------------------------
Trigger 0030_P_Recruit_Priest_Islam
    WhenToTest AgentCreated

    Condition TrainedAgentType = priest
        and FactionReligion islam

    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } -0.02
    FactionStanding factions { moors, egypt, zengid, rum, abbasid, turks } 0.01
    FactionStanding factions { byzantium, kievan_rus, russia, serbia, georgia } -0.01
    FactionStanding factions { lithuania, cumans, mongols } -0.01
    
;------------------------------------------
Trigger 0030_P_Recruit_Priest_Orthodox
    WhenToTest AgentCreated

    Condition TrainedAgentType = priest
        and FactionReligion orthodox

    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } -0.01
    FactionStanding factions { moors, egypt, zengid, rum, abbasid, turks } -0.01
    FactionStanding factions { byzantium, kievan_rus, russia, serbia, georgia } 0.01
    FactionStanding factions { lithuania, cumans, mongols } -0.01
    
;------------------------------------------
Trigger 0030_P_Recruit_Priest_Pagan
    WhenToTest AgentCreated

    Condition TrainedAgentType = priest
        and FactionReligion pagan

    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } -0.01
    FactionStanding factions { moors, egypt, zengid, rum, abbasid, turks } -0.02
    FactionStanding factions { byzantium, kievan_rus, russia, serbia, georgia } -0.01
    FactionStanding factions { lithuania, cumans, mongols } 0.01


;######################## EXCOMMUINICATION #############################
;------------------------------------------
Trigger 0031_P_Faction_Excommunicated
    WhenToTest FactionExcommunicated

    FactionStanding factions { papal_states } -0.4
    FactionStanding factions { england, france, spain, portugal, venice, sicily, hre, hungary, poland, denmark, scotland, norway, aragon, jerusalem, serbia } -0.1
    FactionStanding factions { turks, rum, egypt, mongols, abbasid, zengid, moors, lithuania, cumans } 0.1
;------------------------------------------
Trigger 0031_P_Faction_Excommunicated_crushed1
    WhenToTest FactionExcommunicated    
       
    Condition FactionType hre 
    and I_NumberOfSettlements hre < 8

    FactionStanding factions { england, france, pisa, spain, venice, poland, denmark, norway, hungary, england } 0.2
    FactionStanding factions { papal_states } 0.4

    
;------------------------------------------
Trigger 0031_P_Faction_Excommunicated_crushed2
    WhenToTest FactionExcommunicated    
       
    Condition FactionType france
    and I_NumberOfSettlements france < 5

    FactionStanding factions { england, hre, pisa, spain, venice, poland, denmark, norway, hungary, england } 0.2
    FactionStanding factions { papal_states } 0.4
    
    
;------------------------------------------
Trigger 0031_P_Faction_Excommunicated_crushed2
    WhenToTest FactionExcommunicated    
       
    Condition FactionType england
    and I_NumberOfSettlements england < 5

    FactionStanding factions { hre, france, pisa, spain, venice, poland, denmark, norway, hungary, england } 0.2
    FactionStanding factions { papal_states } 0.4
        
;------------------------------------------
Trigger fighting_fl_catholic_muslims_increases_standings1
    WhenToTest FactionLeaderPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 1000
        and FactionReligion catholic
	      and TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.3
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.06
    FactionStanding target_allies -0.03
    FactionStanding global 0.025

;------------------------------------------
Trigger fighting_fl_catholic_muslims_increases_standings2
    WhenToTest FactionLeaderPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 400
        and NumCapturedSoldiers < 1000
        and FactionReligion catholic
	      and TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.18
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.03
    FactionStanding target_allies -0.02
    FactionStanding global 0.025
    
;------------------------------------------
Trigger fighting_fl_catholic_muslims_increases_standings3
    WhenToTest FactionLeaderPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 100
        and NumCapturedSoldiers < 400
        and FactionReligion catholic
	      and TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.1
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.01  
    FactionStanding target_allies -0.01  
        
;------------------------------------------
Trigger fighting_catholic_muslims_increases_standings1
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 1000
        and FactionReligion catholic
	      and TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.3
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.06
    FactionStanding target_allies -0.03
    FactionStanding global 0.025
    
;------------------------------------------
Trigger fighting_catholic_muslims_increases_standings2
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 400
        and NumCapturedSoldiers < 1000
        and FactionReligion catholic
	      and TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.15
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.03
    FactionStanding target_allies -0.02
    FactionStanding global 0.025
    
;------------------------------------------
Trigger fighting_catholic_muslims_increases_standings3
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 100
        and NumCapturedSoldiers < 400
        and FactionReligion catholic
	      and TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.05
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.01
    FactionStanding target_allies -0.01
        
;------------------------------------------
Trigger fighting_orthodox_muslims_increases_standings1
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 1000
        and FactionReligion orthodox
	      and TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.1
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.05
    FactionStanding target_allies -0.03
    FactionStanding global 0.025
    
;------------------------------------------
Trigger fighting_orthodox_muslims_increases_standings2
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 400
        and NumCapturedSoldiers < 1000
        and FactionReligion orthodox
	      and TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.05
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.03
    FactionStanding target_allies -0.02
    FactionStanding global 0.025
    
;------------------------------------------
Trigger fighting_orthodox_muslims_increases_standings3
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 100
        and NumCapturedSoldiers < 400
        and FactionReligion orthodox
	      and TargetFactionReligion islam

    FactionStanding factions { papal_states } 0.02
    FactionStanding factions { scotland, england, portugal, spain, aragon, france, hre, denmark, norway, pisa, venice, sicily, poland, hungary, jerusalem } 0.01
    FactionStanding target_allies -0.01
    
;------------------------------------------
Trigger fighting_muslim_catholics_increases_standings1
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 1000
        and FactionReligion islam
	      and TargetFactionReligion catholic

    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid }  0.06
    FactionStanding target_allies -0.03
    FactionStanding global 0.025
    
;------------------------------------------
Trigger fighting_muslim_catholics_increases_standings2
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 400
        and NumCapturedSoldiers < 1000
        and FactionReligion islam
	      and TargetFactionReligion catholic

    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid }  0.02
    FactionStanding target_allies -0.02
    FactionStanding global 0.025
    
;------------------------------------------
Trigger fighting_muslim_catholics_increases_standings3
    WhenToTest GeneralPrisonersRansomedCaptor

    Condition NumCapturedSoldiers > 100
        and NumCapturedSoldiers < 400
        and FactionReligion islam
	      and TargetFactionReligion catholic

    FactionStanding factions { moors, egypt, turks, rum, abbasid, zengid }  0.01
    FactionStanding target_allies -0.01


;########################################################################## 
;##########         HOTSPOTS of CONFLICTS         #########################
;########################################################################## 

;-------------------------------------------
Trigger conflict_hotspot_prague
	WhenToTest GeneralCaptureSettlement
	
	Condition TargetSettlementName Prague

    FactionStanding factions { hre, } -0.2
    FactionStanding factions { hungary, } -0.1
	
;-------------------------------------------
Trigger conflict_hotspot_olomoc
	WhenToTest GeneralCaptureSettlement
	
	Condition TargetSettlementName Olomoc

    FactionStanding factions { hre, } -0.1
    FactionStanding factions { hungary, } -0.1
 
	  
;########################################################################## 
;##########         SPHERES OF INFLUENCE         ##########################  
;########################################################################## 
;the actual penalties imposed for capturing a settlement within your sphere of influence are covered by the occupy, sack and exterminate_global triggers.
;these triggers work by adding penalties to those ones when a faction captures settlements other than the ones specified. added together, they impose the same penalty as before for each kind of capture
;fundamentally the principle here is to stop punishing factions which are recapturing settlements which have been taken from them, or that are "theirs" at the start date (but aren't for balance reasons, e.g. south france)
;keep in mind that the larger starting empires don't have all of their starting territory covered by this

;-------------------------------------------
Trigger sphere_venice
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType venice
		and not SettlementName Venice
		and not SettlementName Zara
		and not SettlementName Ragusa
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_sicily
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType sicily
		and not SettlementName Palermo
		and not SettlementName Reggio
		and not SettlementName Bari
		and not SettlementName Naples
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_abbasid
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType abbasid
		and not SettlementName Baghdad
		and not SettlementName Basra
		and not SettlementName Al_Wasit
		and not SettlementName Mosul
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_denmark
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType denmark
		and not SettlementName Roskilde
		and not SettlementName Lund
		and not SettlementName Ribe
	
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_egypt
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType egypt
		and not SettlementName Cairo
		and not SettlementName Damietta
		and not SettlementName Qus
		and not SettlementName Alexandria
		and not SettlementName Ascalon
	
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_scotland
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType scotland
		and not SettlementName Aberdeen
		and not SettlementName Edinburgh
	
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_cumans
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType cumans
		and not SettlementName Aktobe
		and not SettlementName Saqsin
		and not SettlementName Sarkel
		and not SettlementName Azaq
		and not SettlementName Sharukan
	
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_turks
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType turks
		and not SettlementName Merv
		and not SettlementName Konjikala
		and not SettlementName Neyshabur
		and not SettlementName Yazd
		and not SettlementName Kerman
		and not SettlementName Isfahan
		and not SettlementName Alamut
		and not SettlementName Hamadan
		and not SettlementName Shiraz
		and not SettlementName Ray
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_france
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType france
		and not SettlementName Paris
		and not SettlementName Rheims
		and not SettlementName Poitiers
		and not SettlementName Rouen
		and not SettlementName Clermont
		and not SettlementName Orleans
		and not SettlementName Troyes
		and not SettlementName Dijon
		and not SettlementName Lyon
		and not SettlementName Angers
 
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_hre
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType hre
		and not SettlementName Bremen
		and not SettlementName Hamburg
		and not SettlementName Ulm
		and not SettlementName Speyer
		and not SettlementName Cologne
		and not SettlementName Trier
		and not SettlementName Frankfurt
		and not SettlementName Nuremburg
		and not SettlementName Basel
		and not SettlementName Ratisbon
	
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_england
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType england
		and not SettlementName London
		and not SettlementName Norwich
		and not SettlementName Bristol
		and not SettlementName York
		and not SettlementName Lincoln

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_portugal
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType portugal
		and not SettlementName Coimbra
		and not SettlementName Lisbon
		and not SettlementName Silves
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_poland
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType poland
		and not SettlementName Krakow
		and not SettlementName Plock
		and not SettlementName Gdansk
		and not SettlementName Poznan
		and not SettlementName Wroclaw

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_byzantium
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType byzantium
		and not SettlementName Constantinople
		and not SettlementName Adrianople
		and not SettlementName Thessalonica
		and not SettlementName Corinth
		and not SettlementName Arta
		and not SettlementName Nicaea
		and not SettlementName Smyrna
		and not SettlementName Sinop
		and not SettlementName Trebizond
		and not SettlementName Attaleia

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_moors
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType moors
		and not SettlementName Cordoba
		and not SettlementName Marrakesh
		and not SettlementName Fes
		and not SettlementName Granada
		and not SettlementName Sevilla

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_russia
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType russia
		and not SettlementName Kiev
		and not SettlementName Pereyaslav
		and not SettlementName Chernigov
		and not SettlementName Turov
		and not SettlementName Smolensk
		and not SettlementName Volodymyr
		and not SettlementName Halych
		and not SettlementName Novgorod

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_spain
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType spain
		and not SettlementName Santiago
		and not SettlementName Burgos
		and not SettlementName Leon
		and not SettlementName Toledo
		and not SettlementName Valladolid

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_hungary
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType hungary
		and not SettlementName Esztergom
		and not SettlementName Gyulafehervar
		and not SettlementName Varad
		and not SettlementName Szekesfehervar
		and not SettlementName Zagreb
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_aragon
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType aragon
		and not SettlementName Barcelona
		and not SettlementName Zaragoza
		and not SettlementName Pamplona
		and not SettlementName Valencia
		and not SettlementName Palma
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_lithuania
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType lithuania
		and not SettlementName Riga
		and not SettlementName Kernave
		and not SettlementName Goroden

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_kievan_rus
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType kievan_rus
		and not SettlementName Kiev
		and not SettlementName Pereyaslav
		and not SettlementName Chernigov
		and not SettlementName Turov
		and not SettlementName Smolensk
		and not SettlementName Volodymyr
		and not SettlementName Halych
		and not SettlementName Novgorod
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_serbia
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType serbia
		and not SettlementName Ras
		and not SettlementName Vrhbosna
		and not SettlementName Skadar

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_georgia
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType georgia
		and not SettlementName Tbilisi
		and not SettlementName Kutaisi
		and not SettlementName Ani

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_norway
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType norway
		and not SettlementName Bergen
		and not SettlementName Oslo

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_jerusalem
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType jerusalem
		and not SettlementName Jerusalem
		and not SettlementName Acre
		and not SettlementName Tripoli
		and not SettlementName Antioch

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_zengid
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType zengid
		and not SettlementName Aleppo
		and not SettlementName Ar_Raqqah
		and not SettlementName Mosul
		and not SettlementName Hasankeyf
		and not SettlementName Edessa
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_rum
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType rum
		and not SettlementName Caesarea
		and not SettlementName Angora
		and not SettlementName Konya
		and not SettlementName Sives

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_pisa
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType pisa
		and not SettlementName Pisa
		and not SettlementName Cagliari
		and not SettlementName Florence
		
	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------
Trigger sphere_papal_states
	WhenToTest GeneralCaptureSettlement
	
	Condition FactionType papal_states
		and not SettlementName Rome
		and not SettlementName Bologna

	FactionStanding global -0.1
	FactionStanding target_allies normalise -1.0 160
    FactionStanding target_faction normalise -1.0 8
    FactionStanding exclude_factions { slave } normalise -1.0 90
;-------------------------------------------


;--------------------------------------------------------------------------------------------------
;--- Cooperates with War Weariness Script. When event_counter faction_war_wearied is > 0 
;--- CS determined that a faction is waging war too much and will quickly 
;--- improve relations which together with descr_campaign_ai enries will allow peace.
;--- The problem was that even though AI decided to have peace, but very bad realtions 
;--- made impossible any negotiations in diplomacy screen- ai was rejecting everything,
;--- which sometimes is good, sometimes not (too stubborn leading to its demise).
;--- It has to be about TargetFaction, relations work both ways, and this way only is important here
;--- the trigger fires only once a turn for the enemy who is the player-local,
;--- but it also affects other enemies, impossible (?) to make it only affecting the player.
;---------------------------------------------------------------------------------------------------

Trigger 088_WarWearied_venice 
	WhenToTest UpdateAttitude
	Condition TargetFactionType venice
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter venice_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_sicily 
	WhenToTest UpdateAttitude
	Condition TargetFactionType sicily
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter sicily_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_abbasid 
	WhenToTest UpdateAttitude
	Condition TargetFactionType abbasid
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter abbasid_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_denmark 
	WhenToTest UpdateAttitude
	Condition TargetFactionType denmark
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter denmark_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_egypt 
	WhenToTest UpdateAttitude
	Condition TargetFactionType egypt
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter egypt_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_scotland 
	WhenToTest UpdateAttitude
	Condition TargetFactionType scotland
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter scotland_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_cumans 
	WhenToTest UpdateAttitude
	Condition TargetFactionType cumans
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter cumans_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_turks 
	WhenToTest UpdateAttitude
	Condition TargetFactionType turks
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter turks_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_france 
	WhenToTest UpdateAttitude
	Condition TargetFactionType france
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter france_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_hre 
	WhenToTest UpdateAttitude
	Condition TargetFactionType hre
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter hre_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_england 
	WhenToTest UpdateAttitude
	Condition TargetFactionType england
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter england_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_portugal 
	WhenToTest UpdateAttitude
	Condition TargetFactionType portugal
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter portugal_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_poland 
	WhenToTest UpdateAttitude
	Condition TargetFactionType poland
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter poland_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_byzantium 
	WhenToTest UpdateAttitude
	Condition TargetFactionType byzantium
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter byzantium_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_moors 
	WhenToTest UpdateAttitude
	Condition TargetFactionType moors
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter moors_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_russia 
	WhenToTest UpdateAttitude
	Condition TargetFactionType russia
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter russia_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_spain 
	WhenToTest UpdateAttitude
	Condition TargetFactionType spain
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter spain_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_hungary 
	WhenToTest UpdateAttitude
	Condition TargetFactionType hungary
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter hungary_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_aragon 
	WhenToTest UpdateAttitude
	Condition TargetFactionType aragon
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter aragon_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_lithuania 
	WhenToTest UpdateAttitude
	Condition TargetFactionType lithuania
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter lithuania_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_kievan_rus 
	WhenToTest UpdateAttitude
	Condition TargetFactionType kievan_rus
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter kievan_rus_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_serbia 
	WhenToTest UpdateAttitude
	Condition TargetFactionType serbia
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter serbia_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_georgia 
	WhenToTest UpdateAttitude
	Condition TargetFactionType georgia
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter georgia_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_norway 
	WhenToTest UpdateAttitude
	Condition TargetFactionType norway
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter norway_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_jerusalem 
	WhenToTest UpdateAttitude
	Condition TargetFactionType jerusalem
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter jerusalem_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_zengid 
	WhenToTest UpdateAttitude
	Condition TargetFactionType zengid
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter zengid_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_rum 
	WhenToTest UpdateAttitude
	Condition TargetFactionType rum
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter rum_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_pisa 
	WhenToTest UpdateAttitude
	Condition TargetFactionType pisa
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter pisa_war_wearied > 0
	FactionStanding enemies normalise 0.55 4


Trigger 088_WarWearied_papal_states 
	WhenToTest UpdateAttitude
	Condition TargetFactionType papal_states
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter papal_states_war_wearied > 0
	FactionStanding enemies normalise 0.55 4

Trigger 088_WarWearied_papal_mongols 
	WhenToTest UpdateAttitude
	Condition TargetFactionType mongols
		and DiplomaticStanceFactions = AtWar
		and FactionIsLocal
		and I_EventCounter mongols_war_wearied > 0
	FactionStanding enemies normalise 0.55 4

